performance.mark("js-parse-end:43142-ab65f67c73c33f53.js");
"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["43142"],{87077(e,t,l){l.r(t),l.d(t,{FileResultRow:()=>B,default:()=>O});var r=l(74848),s=l(84093),n=l(16522),i=l(712),a=l(99153),o=l(90797),c=l(38489),u=l(8836),d=l(27159),f=l(35148),m=l(32222),h=l(33304),g=l(33751),x=l(29941),v=l(38621),p=l(45800),_=l(59134),b=l(18990),E=l(83223),R=l(66818),j=l(7478),C=l(94709),y=l(10095),S=l(91385),F=l(96540),L=l(62812),N=l(8334),T=l(54914),w=l(78994);let A="FileResultsList-module__Box__vqkwS",k="FileResultsList-module__OverlayEnabled__eP6z3",I="FileResultsList-module__ActionList__KvCZP",$="FileResultsList-module__ActionList_Overlay__l70lt",D="FileResultsList-module__FilesSearchBox__ivVkc",q="FileResultsList-module__ActionList_ItemFocused__Yu7wK",z="FileResultsList-module__ActionList_Item__X18Zr",M="FileResultsList-module__HighlightMatch__wwEZz",H="FileResultsList-module__Octicon__T1mIF",Z="FileResultsList-module__PrimerLink__Mmo7i";var G=l(34164);let K={excludeDirectories:!1,excludeSeeAllResults:!1},O=(0,s.T)()?function(e){let t,l,s,m,v,j,y,S,L,N,q,z,M,H,O,B,U,Y,J,W,et,el,er,es,en=(0,n.c)(103),{actionListClassName:ei,additionalResults:ea,commitOid:eo,config:ec,findFileWorkerPath:eu,getItemUrl:ed,onRenderRow:ef,onItemSelected:em,searchBoxRef:eh,className:eg,sx:ex}=e,ev=void 0===ec?K:ec,{excludeDirectories:ep,excludeSeeAllResults:e_}=ev,{query:eb,setQuery:eE}=(0,i.JS)(),eR=(0,u.t)(),ej=F.useRef(null),eC=eh??ej,[ey,eS]=F.useState(eb.length>0),[eF,eL]=F.useState(!!eb),{list:eN,directories:eT,loading:ew,error:eA}=(0,w.o)(eo,ey,!!ep);en[0]!==eT?(t=new Set(eT),en[0]=eT,en[1]=t):t=en[1];let ek=t,eI=(0,a.l)(),{getUrl:e$}=(0,c.Z)();en[2]!==eb?(l=ee(eb),en[2]=eb,en[3]=l):l=en[3];let{queryText:eD,queryLine:eq}=l,ez=(0,F.useDeferredValue)(eD);en[4]!==ea||en[5]!==eN?(s=[...eN,...ea??[]].sort(),en[4]=ea,en[5]=eN,en[6]=s):s=en[6];let{matches:eM,clearMatches:eH}=Q(s,ez,eu,ey),{sendRepoClickEvent:eZ}=(0,o.T)(),eG=(0,g.Z)(),[eK,eO]=F.useState(0),[eP,eV]=F.useState(P),eB=F.useRef(null),eU=F.useRef(null),{sendRepoKeyDownEvent:eY}=(0,o.T)(),{screenSize:eX}=(0,h.lm)(),eJ=ev.enableOverlay??eX>=h.Gy.large;en[7]!==em||en[8]!==eZ?(m=e=>{eZ("FILE_TREE.SEARCH_RESULT_CLICK"),em?.(e),eL(!1)},en[7]=em,en[8]=eZ,en[9]=m):m=en[9];let eW=m;en[10]!==ed||en[11]!==e$?(v=(e,t,l)=>{let r=t.has(e);return ed?ed(e,r,l):e$({path:e,action:r?"tree":"blob",hash:l})},en[10]=ed,en[11]=e$,en[12]=v):v=en[12];let eQ=v;en[13]===Symbol.for("react.memo_cache_sentinel")?(j={bindKeys:x.z0.ArrowVertical|x.z0.HomeAndEnd,focusInStrategy:"previous"},en[13]=j):j=en[13],en[14]!==eA||en[15]!==ew?(y=[ew,eA],en[14]=eA,en[15]=ew,en[16]=y):y=en[16];let{containerRef:e0}=(0,p.G)(j,y);en[17]!==eb?(L=()=>{eb||eL(!1)},S=[eb],en[17]=eb,en[18]=S,en[19]=L):(S=en[18],L=en[19]),F.useEffect(L,S),en[20]!==eJ||en[21]!==eC?(N=()=>{document.activeElement!==eC.current&&eJ&&eL(!1)},en[20]=eJ,en[21]=eC,en[22]=N):N=en[22],en[23]!==eJ||en[24]!==eC||en[25]!==eI?(q=[eI,eC,eJ],en[23]=eJ,en[24]=eC,en[25]=eI,en[26]=q):q=en[26],F.useEffect(N,q),en[27]!==eM?(z=eM?.slice(0,40)??[],en[27]=eM,en[28]=z):z=en[28];let e1=z,e2=eM&&eM.length>e1.length;en[29]!==eQ||en[30]!==eH||en[31]!==ek||en[32]!==e1||en[33]!==e_||en[34]!==eK||en[35]!==e0||en[36]!==e2||en[37]!==eG||en[38]!==em||en[39]!==eb||en[40]!==eq||en[41]!==eD||en[42]!==eR||en[43]!==eY||en[44]!==eE?(M=e=>{let{key:t,shiftKey:l,metaKey:r,altKey:s,ctrlKey:n}=e;if(!l&&!r&&!s){if("Escape"===t)eb?(eY("FILE_TREE.CANCEL_SEARCH"),eE(""),eH()):document.activeElement&&document.activeElement.blur();else if(!eb)return;else if("Enter"===t){if(!e_&&e2&&eK===e1.length)eG((0,f.Y8Y)({owner:eR.ownerLogin,repo:eR.name,searchTerm:`path:${eD}`})),em?.();else if(e1[eK]){let e=e1[eK];eG(eQ(e,ek,eq?`L${eq}`:"")),eL(!1),em?.(e)}}else if("ArrowDown"===t||n&&"n"===t){if(!e_&&e2&&eK>=e1.length-1){if(eO(e1.length),eB.current&&e0.current){let e=(0,d.U)(e0.current);(0,x.Rt)(eB.current,e,{behavior:"instant"})}}else eO(Math.min(eK+1,e1.length-1));e.preventDefault();return}else if("ArrowUp"===t||n&&"p"===t){eO(Math.max(eK-1,0)),e.preventDefault();return}}},en[29]=eQ,en[30]=eH,en[31]=ek,en[32]=e1,en[33]=e_,en[34]=eK,en[35]=e0,en[36]=e2,en[37]=eG,en[38]=em,en[39]=eb,en[40]=eq,en[41]=eD,en[42]=eR,en[43]=eY,en[44]=eE,en[45]=M):M=en[45];let e3=M;en[46]!==eJ?(H=(0,G.$)(A,{[k]:eJ}),en[46]=eJ,en[47]=H):H=en[47],en[48]!==ei||en[49]!==eQ||en[50]!==ez||en[51]!==ek||en[52]!==e1||en[53]!==eJ||en[54]!==eA||en[55]!==e_||en[56]!==eK||en[57]!==eP||en[58]!==e0||en[59]!==ew||en[60]!==eM||en[61]!==e2||en[62]!==ef||en[63]!==eW||en[64]!==eI||en[65]!==eq||en[66]!==eD||en[67]!==eR?(O=eA?(0,r.jsx)(_.A,{variant:"danger",className:"tmp-m-3",children:"Failed to search"}):(0,r.jsxs)(b.l,{ref:e0,className:(0,G.$)(ei,I,{[$]:eJ}),role:"listbox",children:[!ew&&e1.map((e,t)=>{let l=ek.has(e),s=eQ(e,ek,eq?`L${eq}`:"");return(0,r.jsx)(X,{active:e===eI,index:t,focused:eP&&eK===t,match:e,onRender:ef,query:ez,onClick:eW,isDirectory:l,to:s,useOverlay:eJ,listRef:e0},e)}),(0,r.jsxs)("div",{className:"tmp-m-3 text-center",children:[(0,r.jsx)(V,{loading:ew||!eM,visibleResultCount:e1.length,truncated:!!e2}),e2&&!e_&&(0,r.jsxs)(r.Fragment,{children:["\xa0",(0,r.jsx)(E.A,{id:"see-all-results-link",className:(0,G.$)("focus-visible",{[Z]:eP&&eK===e1.length}),ref:eB,href:(0,f.Y8Y)({owner:eR.ownerLogin,repo:eR.name,searchTerm:`path:${eD}`}),children:"See all results"})]})]})]}),en[48]=ei,en[49]=eQ,en[50]=ez,en[51]=ek,en[52]=e1,en[53]=eJ,en[54]=eA,en[55]=e_,en[56]=eK,en[57]=eP,en[58]=e0,en[59]=ew,en[60]=eM,en[61]=e2,en[62]=ef,en[63]=eW,en[64]=eI,en[65]=eq,en[66]=eD,en[67]=eR,en[68]=O):O=en[68],en[69]!==H||en[70]!==O?(B=(0,r.jsx)("div",{className:H,children:O}),en[69]=H,en[70]=O,en[71]=B):B=en[71];let e4=B,e8=(!eJ&&eb||eJ&&eF)&&eP&&eK>-1?e2&&eK===e1.length?"see-all-results-link":`file-result-${eK}`:void 0,e7=eJ?eF:void 0,e9=eJ?"file-results-list":void 0;en[72]===Symbol.for("react.memo_cache_sentinel")?(U=()=>eS(!0),en[72]=U):U=en[72],en[73]!==eH||en[74]!==eE?(Y=e=>{eE(e),e?eL(!0):(eH(),eL(!1)),eO(0)},en[73]=eH,en[74]=eE,en[75]=Y):Y=en[75],en[76]!==e0?(J=e=>{e0.current?.contains(e.relatedTarget)||(eL(!1),eV(!1))},en[76]=e0,en[77]=J):J=en[77],en[78]!==eb?(W=()=>{eb&&eL(!0),eV(!0)},en[78]=eb,en[79]=W):W=en[79],en[80]!==eJ||en[81]!==e3||en[82]!==eC||en[83]!==eb||en[84]!==e8||en[85]!==e7||en[86]!==e9||en[87]!==Y||en[88]!==J||en[89]!==W?(et=(0,r.jsx)(T.Z,{ariaActiveDescendant:e8,ariaExpanded:e7,ariaHasPopup:eJ,ariaControls:e9,ref:eC,query:eb,onKeyDown:e3,onPreload:U,onSearch:Y,onBlur:J,onFocus:W,className:D}),en[80]=eJ,en[81]=e3,en[82]=eC,en[83]=eb,en[84]=e8,en[85]=e7,en[86]=e9,en[87]=Y,en[88]=J,en[89]=W,en[90]=et):et=en[90],en[91]!==eg||en[92]!==ex||en[93]!==et?(el=(0,r.jsx)(C.az,{ref:eU,sx:ex,className:eg,children:et}),en[91]=eg,en[92]=ex,en[93]=et,en[94]=el):el=en[94],en[95]!==eJ||en[96]!==e4||en[97]!==eF?(er=eJ&&(0,r.jsx)(R.T,{anchorRef:eU,open:eJ&&eF,renderAnchor:null,onClose:()=>{eL(!1)},focusZoneSettings:{disabled:!0},focusTrapSettings:{disabled:!0},width:"xlarge",align:"end",overlayProps:{id:"file-results-list",role:"dialog"},children:e4}),en[95]=eJ,en[96]=e4,en[97]=eF,en[98]=er):er=en[98];let e5=!eJ&&eb&&e4;return en[99]!==el||en[100]!==er||en[101]!==e5?(es=(0,r.jsxs)(r.Fragment,{children:[el,er,e5]}),en[99]=el,en[100]=er,en[101]=e5,en[102]=es):es=en[102],es}:function({actionListClassName:e,additionalResults:t,commitOid:l,config:s=K,findFileWorkerPath:n,getItemUrl:m,onRenderRow:v,onItemSelected:j,searchBoxRef:y,className:S,sx:L}){let{excludeDirectories:N,excludeSeeAllResults:q}=s,{query:z,setQuery:M}=(0,i.JS)(),H=(0,u.t)(),O=F.useRef(null),P=y??O,[B,U]=F.useState(z.length>0),[Y,J]=F.useState(!!z),{list:W,directories:et,loading:el,error:er}=(0,w.o)(l,B,!!N),es=(0,F.useMemo)(()=>new Set(et),[et]),en=(0,a.l)(),{getUrl:ei}=(0,c.Z)(),{queryText:ea,queryLine:eo}=ee(z),ec=(0,F.useDeferredValue)(ea),{matches:eu,clearMatches:ed}=Q((0,F.useMemo)(()=>[...W,...t??[]].sort(),[t,W]),ec,n,B),{sendRepoClickEvent:ef}=(0,o.T)(),em=(0,g.Z)(),[eh,eg]=F.useState(0),[ex,ev]=F.useState(()=>(0,T.q)()),ep=F.useRef(null),e_=F.useRef(null),eb="file-results-list",{sendRepoKeyDownEvent:eE}=(0,o.T)(),{screenSize:eR}=(0,h.lm)(),ej=s.enableOverlay??eR>=h.Gy.large,eC=F.useCallback(e=>{ef("FILE_TREE.SEARCH_RESULT_CLICK"),j?.(e),J(!1)},[ef,j]),ey=(e,t,l)=>{let r=t.has(e);return m?m(e,r,l):ei({path:e,action:r?"tree":"blob",hash:l})},{containerRef:eS}=(0,p.G)({bindKeys:x.z0.ArrowVertical|x.z0.HomeAndEnd,focusInStrategy:"previous"},[el,er]);F.useEffect(()=>{z||J(!1)},[z]),F.useEffect(()=>{document.activeElement!==P.current&&ej&&J(!1)},[en,P,ej]);let eF=(0,F.useMemo)(()=>eu?.slice(0,40)??[],[eu]),eL=eu&&eu.length>eF.length,eN=(0,r.jsx)("div",{className:(0,G.$)(A,{[k]:ej}),children:er?(0,r.jsx)(_.A,{variant:"danger",className:"tmp-m-3",children:"Failed to search"}):(0,r.jsxs)(b.l,{ref:eS,className:(0,G.$)(e,I,{[$]:ej}),role:"listbox",children:[!el&&eF.map((e,t)=>{let l=es.has(e),s=ey(e,es,eo?`L${eo}`:"");return(0,r.jsx)(X,{active:e===en,index:t,focused:ex&&eh===t,match:e,onRender:v,query:ec,onClick:eC,isDirectory:l,to:s,useOverlay:ej,listRef:eS},e)}),(0,r.jsxs)("div",{className:"tmp-m-3 text-center",children:[(0,r.jsx)(V,{loading:el||!eu,visibleResultCount:eF.length,truncated:!!eL}),eL&&!q&&(0,r.jsxs)(r.Fragment,{children:["\xa0",(0,r.jsx)(E.A,{id:"see-all-results-link",className:(0,G.$)("focus-visible",{[Z]:ex&&eh===eF.length}),ref:ep,href:(0,f.Y8Y)({owner:H.ownerLogin,repo:H.name,searchTerm:`path:${ea}`}),children:"See all results"})]})]})]})});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C.az,{ref:e_,sx:L,className:S,children:(0,r.jsx)(T.Z,{ariaActiveDescendant:(!ej&&z||ej&&Y)&&ex&&eh>-1?eL&&eh===eF.length?"see-all-results-link":`file-result-${eh}`:void 0,ariaExpanded:ej?Y:void 0,ariaHasPopup:ej,ariaControls:ej?eb:void 0,ref:P,query:z,onKeyDown:e=>{let{key:t,shiftKey:l,metaKey:r,altKey:s,ctrlKey:n}=e;if(!l&&!r&&!s){if("Escape"===t)z?(eE("FILE_TREE.CANCEL_SEARCH"),M(""),ed()):document.activeElement&&document.activeElement.blur();else if(!z)return;else if("Enter"===t){if(!q&&eL&&eh===eF.length)em((0,f.Y8Y)({owner:H.ownerLogin,repo:H.name,searchTerm:`path:${ea}`})),j?.();else if(eF[eh]){let e=eF[eh];em(ey(e,es,eo?`L${eo}`:"")),J(!1),j?.(e)}}else if("ArrowDown"===t||n&&"n"===t){if(!q&&eL&&eh>=eF.length-1){if(eg(eF.length),ep.current&&eS.current){let e=(0,d.U)(eS.current);(0,x.Rt)(ep.current,e,{behavior:"instant"})}}else eg(Math.min(eh+1,eF.length-1));e.preventDefault();return}else if("ArrowUp"===t||n&&"p"===t){eg(Math.max(eh-1,0)),e.preventDefault();return}}},onPreload:()=>U(!0),onSearch:e=>{M(e),e?J(!0):(ed(),J(!1)),eg(0)},onBlur:e=>{eS.current?.contains(e.relatedTarget)||(J(!1),ev(!1))},onFocus:()=>{z&&J(!0),ev(!0)},className:D})}),ej&&(0,r.jsx)(R.T,{anchorRef:e_,open:ej&&Y,renderAnchor:null,onClose:()=>{J(!1)},focusZoneSettings:{disabled:!0},focusTrapSettings:{disabled:!0},width:"xlarge",align:"end",overlayProps:{id:eb,role:"dialog"},children:eN}),!ej&&z&&eN]})};function P(){return(0,T.q)()}let V=(0,s.T)()?function(e){let t,l,s=(0,n.c)(8),{visibleResultCount:i,truncated:a,loading:o}=e,c=o||a||0===i?void 0:"sr-only",u=o?"Loading":void 0;return s[0]!==o||s[1]!==a||s[2]!==i?(t=o?(0,r.jsx)(j.A,{size:"large"}):0===i?"No matches found":a?`First ${i} files shown.`:`Showing ${i} files.`,s[0]=o,s[1]=a,s[2]=i,s[3]=t):t=s[3],s[4]!==c||s[5]!==u||s[6]!==t?(l=(0,r.jsx)("span",{role:"status",className:c,"aria-label":u,children:t},"results-count-status"),s[4]=c,s[5]=u,s[6]=t,s[7]=l):l=s[7],l}:function({visibleResultCount:e,truncated:t,loading:l}){return(0,r.jsx)("span",{role:"status",className:l||t||0===e?void 0:"sr-only","aria-label":l?"Loading":void 0,children:l?(0,r.jsx)(j.A,{size:"large"}):0===e?"No matches found":t?`First ${e} files shown.`:`Showing ${e} files.`},"results-count-status")},B=(0,s.T)()?e=>{let t,l,s,i,a,o,c,u,f,h,g=(0,n.c)(33),{active:v,focused:p,index:_,match:E,query:R,to:j,isDirectory:C,onClick:y,onRender:L,useOverlay:N,listRef:T}=e;g[0]!==E||g[1]!==R?(t=(0,S.Xq)(R,E),g[0]=E,g[1]=R,g[2]=t):t=g[2];let w=t;L?.();let A=F.useRef(null),k=C?U:Y;g[3]!==p||g[4]!==T?(l=()=>{if(p&&A.current&&T?.current){let e=(0,d.U)(T.current);(0,x.Rt)(A.current,e,{behavior:"instant"})}},s=[p,T],g[3]=p,g[4]=T,g[5]=l,g[6]=s):(l=g[5],s=g[6]),F.useEffect(l,s),g[7]!==E||g[8]!==y?(i=()=>{y?.(E)},g[7]=E,g[8]=y,g[9]=i):i=g[9];let I=i,$=p?q:void 0;g[10]!==$?(a=(0,G.$)($),g[10]=$,g[11]=a):a=g[11];let D=`file-result-${_}`,H=N?-1:0,Z=p||void 0;return g[12]===Symbol.for("react.memo_cache_sentinel")?(o=(0,G.$)("d-flex",z),g[12]=o):o=g[12],g[13]!==k||g[14]!==E||g[15]!==w?(c=(0,r.jsx)("div",{className:"d-flex flex-1 flex-column overflow-hidden",children:(0,r.jsx)(J,{text:E,positionsList:w,LeadingIcon:k,className:M})}),g[13]=k,g[14]=E,g[15]=w,g[16]=c):c=g[16],g[17]!==p||g[18]!==C?(u=p&&(0,r.jsx)("div",{className:"sr-only",children:`Go to ${C?"folder":"file"}`}),g[17]=p,g[18]=C,g[19]=u):u=g[19],g[20]!==I||g[21]!==c||g[22]!==u||g[23]!==D||g[24]!==H||g[25]!==Z||g[26]!==j?(f=(0,r.jsxs)(m.N,{to:j,ref:A,role:"option",onClick:I,id:D,tabIndex:H,"data-focus-visible-added":Z,className:o,children:[c,u]}),g[20]=I,g[21]=c,g[22]=u,g[23]=D,g[24]=H,g[25]=Z,g[26]=j,g[27]=f):f=g[27],g[28]!==v||g[29]!==E||g[30]!==f||g[31]!==a?(h=(0,r.jsx)(b.l.Item,{role:"group",active:v,className:a,children:f},E),g[28]=v,g[29]=E,g[30]=f,g[31]=a,g[32]=h):h=g[32],h}:({active:e,focused:t,index:l,match:s,query:n,to:i,isDirectory:a,onClick:o,onRender:c,useOverlay:u,listRef:f})=>{let h=(0,S.Xq)(n,s);c?.();let g=F.useRef(null);F.useEffect(()=>{if(t&&g.current&&f?.current){let e=(0,d.U)(f.current);(0,x.Rt)(g.current,e,{behavior:"instant"})}},[t,f]);let v=(0,F.useCallback)(()=>{o?.(s)},[s,o]);return(0,r.jsx)(b.l.Item,{role:"group",active:e,className:(0,G.$)(t?q:void 0),children:(0,r.jsxs)(m.N,{to:i,ref:g,role:"option",onClick:v,id:`file-result-${l}`,tabIndex:u?-1:0,"data-focus-visible-added":t||void 0,className:(0,G.$)("d-flex",z),children:[(0,r.jsx)("div",{className:"d-flex flex-1 flex-column overflow-hidden",children:(0,r.jsx)(J,{text:s,positionsList:h,LeadingIcon:a?U:Y,className:M})}),t&&(0,r.jsx)("div",{className:"sr-only",children:`Go to ${a?"folder":"file"}`})]})},s)},U=(0,s.T)()?()=>{let e,t=(0,n.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(y.A,{"aria-label":"Directory",icon:v.FileDirectoryFillIcon,size:"small",className:H}),t[0]=e):e=t[0],e}:()=>(0,r.jsx)(y.A,{"aria-label":"Directory",icon:v.FileDirectoryFillIcon,size:"small",className:H}),Y=(0,s.T)()?()=>{let e,t=(0,n.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(y.A,{"aria-label":"File",icon:v.FileIcon,className:"fgColor-muted mr-2",size:"small"}),t[0]=e):e=t[0],e}:()=>(0,r.jsx)(y.A,{"aria-label":"File",icon:v.FileIcon,className:"fgColor-muted mr-2",size:"small"}),X=F.memo(B);X.displayName="MemoizedFileResultRow";let J=(0,s.T)()?function(e){let t,l,s,i,a=(0,n.c)(14),{text:o,positionsList:c,className:u,LeadingIcon:d}=e;if(a[0]!==c||a[1]!==o){let e;t=[];let l=0;for(let e of c){if(Number(e)!==e||e<l||e>o.length)continue;let s=o.slice(l,e);s&&t.push(W(s)),l=e+1,t.push((0,r.jsx)("mark",{className:"text-bold bgColor-transparent fgColor-default",children:o[e]},e))}a[3]!==l||a[4]!==o?(e=W(o.slice(l)),a[3]=l,a[4]=o,a[5]=e):e=a[5],t.push(e),a[0]=c,a[1]=o,a[2]=t}else t=a[2];return a[6]!==d?(l=d&&(0,r.jsx)(d,{}),a[6]=d,a[7]=l):l=a[7],a[8]!==t||a[9]!==l?(s=(0,r.jsxs)(r.Fragment,{children:[l,t]}),a[8]=t,a[9]=l,a[10]=s):s=a[10],a[11]!==u||a[12]!==s?(i=(0,r.jsx)("div",{className:u,children:s}),a[11]=u,a[12]=s,a[13]=i):i=a[13],i}:function({text:e,positionsList:t,className:l,LeadingIcon:s}){let n=[],i=0;for(let l of t){if(Number(l)!==l||l<i||l>e.length)continue;let t=e.slice(i,l);t&&n.push(W(t)),i=l+1,n.push((0,r.jsx)("mark",{className:"text-bold bgColor-transparent fgColor-default",children:e[l]},l))}return n.push(W(e.slice(i))),(0,r.jsx)("div",{className:l,children:(0,r.jsxs)(r.Fragment,{children:[s&&(0,r.jsx)(s,{}),n]})})};function W(e){return e.replaceAll("/","/\u200B")}let Q=(0,s.T)()?function(e,t,l,r){let s,i,a,c,u,d,f,m,h=(0,n.c)(21),[g,x]=F.useState(),v=F.useRef(""),p=F.useRef(null),{sendStats:_}=(0,o.T)(),b=F.useRef(!1),E=F.useRef("");h[0]!==_||h[1]!==l?(s=()=>{let e=new L.z(l,N.j);e.onmessage=e=>{let{data:t}=e;b.current=!1,(0,F.startTransition)(()=>{x(t.list)}),v.current=t.query,t.startTime&&t.query===E.current&&_("repository.find-file",{"find-file-base-count":t.baseCount,"find-file-results-count":t.list.length,"find-file-duration-ms":performance.now()-t.startTime})},p.current=e},h[0]=_,h[1]=l,h[2]=s):s=h[2];let R=(0,F.useEffectEvent)(s);h[3]!==g?(i=(e,t)=>{let l=v.current&&t.startsWith(v.current);b.current=!0,E.current=t,p.current?.postMessage({baseList:l&&g||e,query:t,startTime:performance.now()})},h[3]=g,h[4]=i):i=h[4];let j=(0,F.useEffectEvent)(i);return h[5]!==R||h[6]!==r?(a=()=>{if(r)return R(),function(){p.current?.terminate()}},h[5]=R,h[6]=r,h[7]=a):a=h[7],h[8]!==r?(c=[r],h[8]=r,h[9]=c):c=h[9],F.useEffect(a,c),h[10]!==R||h[11]!==e||h[12]!==j||h[13]!==t?(u=()=>{e.length&&t&&(b.current&&(p.current?.terminate(),R()),j(e,t))},h[10]=R,h[11]=e,h[12]=j,h[13]=t,h[14]=u):u=h[14],h[15]!==e||h[16]!==t?(d=[e,t],h[15]=e,h[16]=t,h[17]=d):d=h[17],F.useEffect(u,d),h[18]===Symbol.for("react.memo_cache_sentinel")?(f=()=>x(void 0),h[18]=f):f=h[18],h[19]!==g?(m={matches:g,clearMatches:f},h[19]=g,h[20]=m):m=h[20],m}:function(e,t,l,r){let[s,n]=F.useState(),i=F.useRef(""),a=F.useRef(null),{sendStats:c}=(0,o.T)(),u=F.useRef(!1),d=F.useRef(""),f=(0,F.useEffectEvent)(()=>{let e=new L.z(l,N.j);e.onmessage=({data:e})=>{u.current=!1,(0,F.startTransition)(()=>{n(e.list)}),i.current=e.query,e.startTime&&e.query===d.current&&c("repository.find-file",{"find-file-base-count":e.baseCount,"find-file-results-count":e.list.length,"find-file-duration-ms":performance.now()-e.startTime})},a.current=e}),m=(0,F.useEffectEvent)((e,t)=>{let l=i.current&&t.startsWith(i.current);u.current=!0,d.current=t,a.current?.postMessage({baseList:l&&s||e,query:t,startTime:performance.now()})});return F.useEffect(()=>{if(r)return f(),function(){a.current?.terminate()}},[r]),F.useEffect(()=>{e.length&&t&&(u.current&&(a.current?.terminate(),f()),m(e,t))},[e,t]),{matches:s,clearMatches:(0,F.useCallback)(()=>n(void 0),[])}};function ee(e){let t=(e=e.replaceAll(" ","")).indexOf(":");return t>=0?{queryText:e.substring(0,t),queryLine:parseInt(e.substring(t+1),10)}:{queryText:e,queryLine:void 0}}},54914(e,t,l){l.d(t,{Z:()=>m,q:()=>h});var r=l(74848),s=l(84093),n=l(16522),i=l(73702),a=l(90797),o=l(70730),c=l(38621),u=l(94709),d=l(96540),f=l(34164);let m=(0,s.T)()?e=>{let t,l,s,i,o,m,x,v,p,_=(0,n.c)(35),{ref:b,ariaActiveDescendant:E,ariaControls:R,ariaExpanded:j,ariaHasPopup:C,onBlur:y,onFocus:S,onKeyDown:F,onPreload:L,onSearch:N,query:T,sx:w,className:A}=e,{sendRepoClickEvent:k}=(0,a.T)(),[I,$]=d.useState(T);_[0]!==T?(t=()=>{$(T)},l=[T],_[0]=T,_[1]=t,_[2]=l):(t=_[1],l=_[2]),d.useEffect(t,l),_[3]!==N||_[4]!==T||_[5]!==k?(s=T?(0,r.jsx)(u.ks.Action,{onClick:()=>{k("FILE_TREE.CANCEL_SEARCH"),N("")},icon:c.XCircleFillIcon,"aria-label":"Clear",className:"fgColor-muted"}):void 0,_[3]=N,_[4]=T,_[5]=k,_[6]=s):s=_[6];let D=s;_[7]===Symbol.for("react.memo_cache_sentinel")?(i=h(),_[7]=i):i=_[7],_[8]!==L||_[9]!==N?(o=e=>{$(e.target.value),L(),N(e.target.value)},_[8]=L,_[9]=N,_[10]=o):o=_[10],_[11]!==A?(m=(0,f.$)("d-flex",A),_[11]=A,_[12]=m):m=_[12];let q=C?"combobox":void 0,z=C?"dialog":void 0,M=D?void 0:g;return _[13]!==S||_[14]!==L?(x=e=>{L(),e.target.select(),S?.(e)},_[13]=S,_[14]=L,_[15]=x):x=_[15],_[16]!==k?(v=()=>k("FILE_TREE.SEARCH_BOX"),_[16]=k,_[17]=v):v=_[17],_[18]!==E||_[19]!==R||_[20]!==j||_[21]!==D||_[22]!==y||_[23]!==F||_[24]!==b||_[25]!==w||_[26]!==x||_[27]!==v||_[28]!==o||_[29]!==m||_[30]!==q||_[31]!==z||_[32]!==M||_[33]!==I?(p=(0,r.jsx)(u.ks,{autoFocus:i,ref:b,value:I,onKeyDown:F,onChange:o,sx:w,className:m,"aria-label":"Go to file","aria-activedescendant":E,role:q,"aria-controls":R,"aria-expanded":j,"aria-haspopup":z,autoCorrect:"off",spellCheck:"false",placeholder:"Go to file",leadingVisual:c.SearchIcon,trailingAction:D,trailingVisual:M,onFocus:x,onBlur:y,onClick:v}),_[18]=E,_[19]=R,_[20]=j,_[21]=D,_[22]=y,_[23]=F,_[24]=b,_[25]=w,_[26]=x,_[27]=v,_[28]=o,_[29]=m,_[30]=q,_[31]=z,_[32]=M,_[33]=I,_[34]=p):p=_[34],p}:({ref:e,ariaActiveDescendant:t,ariaControls:l,ariaExpanded:s,ariaHasPopup:n,onBlur:o,onFocus:m,onKeyDown:g,onPreload:x,onSearch:v,query:p,sx:_,className:b})=>{let{sendRepoClickEvent:E}=(0,a.T)(),[R,j]=d.useState(p);d.useEffect(()=>{j(p)},[p]);let C=p?(0,r.jsx)(u.ks.Action,{onClick:()=>{E("FILE_TREE.CANCEL_SEARCH"),v("")},icon:c.XCircleFillIcon,"aria-label":"Clear",className:"fgColor-muted"}):void 0;return(0,r.jsx)(u.ks,{autoFocus:h(),ref:e,value:R,onKeyDown:g,onChange:e=>{j(e.target.value),x(),v(e.target.value)},sx:_,className:(0,f.$)("d-flex",b),"aria-label":"Go to file","aria-activedescendant":t,role:n?"combobox":void 0,"aria-controls":l,"aria-expanded":s,"aria-haspopup":n?"dialog":void 0,autoCorrect:"off",spellCheck:"false",placeholder:"Go to file",leadingVisual:c.SearchIcon,trailingAction:C,trailingVisual:C?void 0:()=>(0,r.jsx)(i.E,{children:(0,r.jsx)("kbd",{children:"t"})}),onFocus:e=>{x(),e.target.select(),m?.(e)},onBlur:o,onClick:()=>E("FILE_TREE.SEARCH_BOX")})};function h(){return"1"===new URLSearchParams(o.fV.search).get("search")}function g(){return(0,r.jsx)(i.E,{children:(0,r.jsx)("kbd",{children:"t"})})}m.displayName="FilesSearchBox"}}]);
//# sourceMappingURL=43142-ab65f67c73c33f53-e57b05e09406b3fb.js.map