performance.mark("js-parse-end:18089-f8733b007f62651c.js");
"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["18089"],{36570(e,t,r){r.d(t,{M:()=>c,O:()=>l});var n=r(74848),i=r(84093),s=r(16522),o=r(96540);let a=o.createContext({canEdit:!1,canEditOnDefaultBranch:!1,fileExistsOnDefault:!1});a.displayName="EditPermissionsContext";let l=(0,i.T)()?function(e){let t,r,i=(0,s.c)(7),{children:o,canEdit:l,canEditOnDefaultBranch:c,fileExistsOnDefault:u}=e,d=void 0!==l&&l,h=void 0!==c&&c,p=void 0!==u&&u;i[0]!==d||i[1]!==h||i[2]!==p?(t={canEdit:d,canEditOnDefaultBranch:h,fileExistsOnDefault:p},i[0]=d,i[1]=h,i[2]=p,i[3]=t):t=i[3];let m=t;return i[4]!==o||i[5]!==m?(r=(0,n.jsx)(a,{value:m,children:o}),i[4]=o,i[5]=m,i[6]=r):r=i[6],r}:function({children:e,canEdit:t=!1,canEditOnDefaultBranch:r=!1,fileExistsOnDefault:i=!1}){let s=(0,o.useMemo)(()=>({canEdit:t,canEditOnDefaultBranch:r,fileExistsOnDefault:i}),[t,r,i]);return(0,n.jsx)(a,{value:s,children:e})};function c(){return o.use(a)}},712(e,t,r){r.d(t,{Ck:()=>c,JS:()=>l});var n=r(74848),i=r(84093),s=r(16522),o=r(96540);let a=(0,o.createContext)({query:"",setQuery:()=>void 0});function l(){return(0,o.use)(a)}a.displayName="FileQueryContext";let c=(0,i.T)()?function(e){let t,r,i=(0,s.c)(5),{children:l}=e,[c,u]=(0,o.useState)("");i[0]!==c?(t={query:c,setQuery:u},i[0]=c,i[1]=t):t=i[1];let d=t;return i[2]!==l||i[3]!==d?(r=(0,n.jsx)(a,{value:d,children:l}),i[2]=l,i[3]=d,i[4]=r):r=i[4],r}:function({children:e}){let[t,r]=(0,o.useState)(""),i=(0,o.useMemo)(()=>({query:t,setQuery:r}),[r,t]);return(0,n.jsx)(a,{value:i,children:e})}},78994(e,t,r){r.d(t,{o:()=>p});var n=r(84093),i=r(16522),s=r(5225),o=r(8836),a=r(35148),l=r(58388),c=r(96540);async function u(e){let t=await (0,l.lS)(e);return t.ok?await t.json():void 0}let d=new Map,h=(0,s.A)(u,{cache:d}),p=(0,n.T)()?function(e,t,r){let n,s,l,u,d=(0,i.c)(12),p=(0,o.t)();d[0]===Symbol.for("react.memo_cache_sentinel")?(n={list:[],directories:[],loading:!0},d[0]=n):n=d[0];let[m,w]=(0,c.useState)(n),f=!r;d[1]!==e||d[2]!==p||d[3]!==f?(s=(0,a.ClY)({repo:p,commitOid:e,includeDirectories:f}),d[1]=e,d[2]=p,d[3]=f,d[4]=s):s=d[4];let _=s;return d[5]!==t||d[6]!==_?(l=()=>{let e=!1,r=async()=>{w({list:[],directories:[],loading:!0});let t=await h(_);if(e)return;let r=t?.paths||[],n=t?.directories||[];w({list:r.concat(n).sort(),directories:n,error:!t})};return t&&r(),function(){e=!0}},d[5]=t,d[6]=_,d[7]=l):l=d[7],d[8]!==r||d[9]!==t||d[10]!==_?(u=[_,t,r],d[8]=r,d[9]=t,d[10]=_,d[11]=u):u=d[11],(0,c.useEffect)(l,u),m}:function(e,t,r){let n=(0,o.t)(),[i,s]=(0,c.useState)({list:[],directories:[],loading:!0}),l=(0,a.ClY)({repo:n,commitOid:e,includeDirectories:!r});return(0,c.useEffect)(()=>{let e=!1,r=async()=>{s({list:[],directories:[],loading:!0});let t=await h(l);if(e)return;let r=t?.paths||[],n=t?.directories||[];s({list:r.concat(n).sort(),directories:n,error:!t})};return t&&r(),function(){e=!0}},[l,t,r]),i}},62812(e,t,r){r.d(t,{z:()=>a});var n=r(35750),i=r(18150),s=r(85242),o=r(50467);class a{set onmessage(e){this.worker.onmessage=e}postMessage(e){this.worker.postMessage(e)}terminate(){this.worker.terminate()}constructor(e,t){(0,o._)(this,"worker",void 0);try{this.worker=new Worker(`${e}?module=true`,{type:"module"})}catch{console.warn("Web workers are not available. Please enable web workers to benefit from the improved performance."),this.worker=new u(t)}}}var l=new WeakMap,c=new WeakMap;class u{async postMessage(e){if((0,n._)(this,l))return;let t={data:(0,n._)(this,c).call(this,{data:e})};this.onmessage?.(t)}terminate(){(0,s._)(this,l,!0)}constructor(e){(0,i._)(this,l,{writable:!0,value:!1}),(0,o._)(this,"onmessage",void 0),(0,i._)(this,c,{writable:!0,value:void 0}),(0,s._)(this,c,e)}}},8334(e,t,r){r.d(t,{j:()=>o});var n=r(5225),i=r(91385);let s=(0,n.A)(i.fN);function o({data:e}){let{query:t,baseList:r,startTime:n}=e,o=t.replaceAll("\\","");return{query:t,list:r.filter(e=>{var t,r;return t=e,""===(r=o)||(0,i.qA)(r,t)&&s(r,t)>0}).sort((e,t)=>s(o,t)-s(o,e)),baseCount:r.length,startTime:n}}},45008(e,t,r){r.d(t,{m:()=>s});var n=r(74848),i=r(21373);function s({onSave:e,onCancel:t,saveButtonText:r,isLoading:s=!1,loadingAnnouncement:o="",disabled:a=!1}){return(0,n.jsxs)("div",{className:"SpaceDialogFooter-module__footerContainer__n3xDw",children:[(0,n.jsx)(i.Q,{variant:"default",onClick:t,children:"Cancel"}),(0,n.jsx)(i.Q,{variant:"primary",loading:s,loadingAnnouncement:o,onClick:e,disabled:a,children:r})]})}s.displayName="SpaceDialogFooter"},94143(e,t,r){r.d(t,{E:()=>h});var n=r(74848),i=r(35592),s=r(35044),o=r(58388),a=r(4925),l=r(67323),c=r(7624),u=r(18990),d=r(96540);function h({onSelect:e,repoId:t}){let r,h,p,[m,w]=(0,d.useState)([]),[f,_]=(0,d.useState)(!1),[g,x]=(0,d.useState)(void 0),y=(0,d.useCallback)(t=>{x(t),e(t)},[e]),b=(0,d.useCallback)(()=>{w([]),_(!0)},[]);return(0,d.useEffect)(()=>{(async()=>{try{let e=t?`/github-copilot/chat/custom_copilots_owners?repo_id=${t}`:"/github-copilot/chat/custom_copilots_owners",r=await (0,o.lS)(e),n=await r.json(),i=n?.owners;if(!r.ok||!i)return void b();w(i),i[0]&&y(i[0])}catch{b()}})()},[b,y,t]),(0,n.jsx)("div",{className:"mt-2 mb-1",children:(0,n.jsxs)(c.A,{children:[(0,n.jsx)(c.A.Label,{required:!0,children:"Owner"}),(0,n.jsxs)(l.W,{children:[(r=g?.name||"Choose an owner",h=g?(0,n.jsx)(i.r,{src:g.avatarUrl},g.avatarUrl):void 0,(0,n.jsx)(l.W.Button,{"data-testid":"owner-dropdown-anchor",alignContent:"start","aria-describedby":"owner-caption",leadingVisual:h,children:r})),(0,n.jsx)(l.W.Overlay,{width:"large",maxHeight:"large",className:"SpacesOwnerDropdown-module__ownerDropdownOverlay__sMXwE",children:(0,n.jsx)(u.l,{children:(0,n.jsx)(u.l.Group,{className:"SpacesOwnerDropdown-module__ownerListGroup__o7Xi2",children:(0,n.jsxs)(u.l,{selectionVariant:"single",children:[m&&m.map(e=>{let{name:t,avatarUrl:r,displayName:s}=e;return(0,n.jsxs)(u.l.Item,{selected:t===g?.name,onSelect:()=>y(e),className:"SpacesOwnerDropdown-module__ownerListItem__qPgcZ",children:[(0,n.jsx)(u.l.LeadingVisual,{children:(0,n.jsx)(i.r,{src:r})}),t,(0,n.jsx)(u.l.Description,{children:s})]},t)}),!m.length&&!f&&(0,n.jsx)(u.l.Item,{disabled:!0,children:"Fetching owners\u2026"},"fetching-owners"),f&&(0,n.jsx)(u.l.Item,{disabled:!0,className:"SpacesOwnerDropdown-module__errorListItem__aPRTD",children:"An error occurred while loading owners. Please reopen the dialog to try again."},"error-fetching-owners")]})})})})]}),(0,n.jsx)(c.A.Caption,{id:"owner-caption",children:(p=e=>(0,n.jsxs)("span",{className:"sr-only",children:["Space owner. Required. Selected owner: @",e.displayName,"."]}),g?"User"===g.type?(0,n.jsxs)("div",{className:"mt-2 d-flex flex-row flex-shrink flex-items-center",children:[p(g),(0,n.jsx)(a.A,{className:"mr-1",children:"Private"}),(0,n.jsx)("span",{...(0,s.G)("owner-user-caption"),children:"Only you will be able to see this space."})]}):(0,n.jsxs)("div",{className:"mt-2 d-flex flex-row flex-shrink",children:[p(g),(0,n.jsx)(a.A,{className:"SpacesOwnerDropdown-module__orgLabel__vEt2Z",children:"Private"}),(0,n.jsx)("span",{...(0,s.G)("owner-org-caption"),children:"Only visible to you and organization admins. You can share it later."})]}):(0,n.jsxs)("span",{children:[(0,n.jsx)("span",{className:"sr-only",children:"Space owner. Required."})," Where we will store your space."]}))})]})})}h.displayName="SpacesOwnerDropdown"},86900(e,t,r){r.d(t,{WU:()=>l,Bj:()=>y,A2:()=>g,O6:()=>c,dp:()=>h,Lr:()=>f,ee:()=>_,vC:()=>x,X_:()=>d,Ku:()=>u,CT:()=>p,kT:()=>w,rP:()=>m});var n=r(85461),i=r(24661),s=r(58388);function o(e,t){if(!e||!t)return null;let r=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=RegExp(`<([^>]+)>;\\s*rel=["']?${r}["']?`,"i"),i=e.match(n);return i?.[1]??null}let a="/github-copilot/chat",l=30,c=["copilot-chat","custom-copilots"],u=["copilot-chat","custom-copilots","count"];function d(e){return["copilot-chat","custom-copilots",e]}function h(e){return e?["copilot-chat","custom-copilot",{id:e.id,owner:e.owner}]:["copilot-chat","custom-copilot",null]}async function p(e){let t=e?`${a}/custom_copilots?type=${e}`:`${a}/custom_copilots`,r=await (0,s.lS)(t);if(!r.ok)throw Error(`Failed to fetch spaces: ${n.nN[r.status]||n.DW}`);return await r.json()}async function m(e){let t,{type:r,perPage:i=l,cursor:c}=e;if(c){let e=new URL(c,window.location.origin);r&&!e.searchParams.has("type")&&e.searchParams.set("type",r),t=e.pathname+e.search}else{let e=new URLSearchParams;r&&e.set("type",r),e.set("per_page",String(Math.min(Math.max(i,1),100)));let n=e.toString();t=`${a}/custom_copilots${n?`?${n}`:""}`}let u=await (0,s.lS)(t);if(!u.ok)throw Error(`Failed to fetch spaces: ${n.nN[u.status]||n.DW}`);let d=await u.json(),h=u.headers.get("Link");return{spaces:d,pagination:{nextCursor:o(h,"next"),prevCursor:o(h,"prev")}}}async function w(e,t){let r=`${a}/custom_copilots/search?type=${e}&q=${encodeURIComponent(t)}`,i=await (0,s.lS)(r);if(!i.ok)throw Error(`Failed to search spaces: ${n.nN[i.status]||n.DW}`);return await i.json()}async function f(e){if(!e||!e.owner)return{status:500,ok:!1,error:"unexpected null custom copilot id or missing owner"};let{owner:t,id:r}=e,i=`${a}/custom_copilots/${t}/${r}`,o=await (0,s.lS)(i);if(!o.ok)return{status:o.status,ok:!1,error:n.nN[o.status]||n.DW};let l=await o.json();return{status:o.status,ok:!0,payload:l}}async function _(e){let t=await (0,s.lS)((0,i.fn)(e),{method:"DELETE"});return t.ok?{status:t.status,ok:!0,payload:null}:t}async function g(e){let t=await (0,s.lS)(`${(0,i.fn)(e)}/settings/visibility`);if(!t.ok)throw Error("Error fetching visibility settings");try{let e=await t.json();return{memberCount:e.member_count&&"number"==typeof e.member_count?e.member_count:null}}catch(e){throw Error(`Error parsing visibility settings: ${e}`)}}async function x(e){let t=await (0,s.lS)(`${(0,i.fn)(e)}/menu_actions`);if(!t.ok)throw Error("Error fetching menu actions");try{let e=await t.json();return{visibility:e.visibility??"private",shareable:e.shareable??!1,editable:e.editable??!1,adminable:e.adminable??!1,baseRole:e.baseRole??"none",public:e.public??!1}}catch(e){throw Error(`Error parsing menu actions: ${e}`)}}async function y(){let e=await (0,s.lS)(`${a}/custom_copilots/count`);if(!e.ok)throw Error(`Failed to fetch spaces count: ${n.nN[e.status]||n.DW}`);return e.json()}},10735(e,t,r){r.d(t,{M:()=>n});function n(e){switch(e.type){case"repository":return{repository_id:e.repositoryId};case"github_file":return{repository_id:e.repositoryId,file_path:e.filePath,sha:e.sha};case"free_text":return{text:e.text,name:e.name};case"github_issue":case"github_pull_request":return{repository_id:e.repositoryId,number:e.number};case"uploaded_text_file":return{name:e.name};case"media_content":return{media_type:e.mediaType,name:e.name,url:e.url,height:e.height,width:e.width};default:throw Error("Unsupported resource")}}},99559(e,t,r){function n(e,t,r=.1){let i=o(e,t,r);return i&&-1===t.indexOf("/")&&(i+=o(e.substring(e.lastIndexOf("/")+1),t,r)),i}function i(e,t,r){if(t){let n=e.innerHTML.trim().match(r||function(e){let t=e.toLowerCase().split(""),r="",n=!0;for(let e of t){let t=e.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&");n?(r+=`(.*)(${t})`,n=!1):r+=`([^${t}]*?)(${t})`}return RegExp(`${r}(.*?)$`,"i")}(t));if(!n)return;let i=!1,s=[];for(let e=1;e<n.length;++e){let t=n[e];t&&(e%2==0?i||(s.push("<mark>"),i=!0):i&&(s.push("</mark>"),i=!1),s.push(t))}e.innerHTML=s.join("")}else{let t=e.innerHTML.trim(),r=t.replace(/<\/?mark>/g,"");t!==r&&(e.innerHTML=r)}}r.d(t,{He:()=>i,UD:()=>a,dt:()=>n});let s=new Set([" ","-","_"]);function o(e,t,r=.1){let n=e;if(n===t)return 1;let i=n.length,a=0,l=0,c=!0;for(let e of t){let t=n.indexOf(e.toLowerCase()),o=n.indexOf(e.toUpperCase()),u=Math.min(t,o),d=u>-1?u:Math.max(t,o);if(-1===d)return 0;a+=.1,n[d]===e&&(a+=.1),0===d&&(a+=.9-r,c&&(l=1)),s.has(n.charAt(d-1))&&(a+=.9-r),n=n.substring(d+1,i),c=!1}let u=t.length,d=a/u,h=(u/i*d+d)/2;return l&&h+r<1&&(h+=r),h}function a(e,t){return e.score>t.score?-1:e.score<t.score?1:e.text<t.text?-1:1*!!(e.text>t.text)}}}]);
//# sourceMappingURL=18089-f8733b007f62651c-be522cfdf6c07722.js.map