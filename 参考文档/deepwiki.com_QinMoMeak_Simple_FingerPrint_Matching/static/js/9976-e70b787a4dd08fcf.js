"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9976],{1871:(e,t,r)=>{r.d(t,{o:()=>el,A:()=>ei});var a=r(54568),n=r(73110),l=r(81543),s=r(49081),o=r(71084),i=r(71494),c=r(61048),d=r(84315),u=r(32469),m=r(71793),h=r(72902),p=r(60168),x=r(1144),f=r(96442),g=r(27541),v=r(7620),b=r(68412),w=r.n(b),y=r(29098),j=r(14028),k=r(16421),N=r(52306),C=r(13429),_=r(51456),E=r(6346),B=r(39999),S=r(73143),R=r(61627),z=r(13200),L=r(69043),A=r(25703);function I(e){var t,r,n;let{node:l,...s}=e,o=(0,k.D)().resolvedTheme,[i,c]=(0,v.useState)(!1);(0,v.useEffect)(()=>{c(!0)},[]);let d=null==(r=s.className)||null==(t=r.match(/language-(\w+)/))?void 0:t[1];return("cuda"===d&&(d="cpp"),d)?i?(0,a.jsx)(C.A,{language:d,style:"light"===o?E.A:_.A,customStyle:{margin:0,background:"transparent",padding:"6px 8px",width:"100%"},codeTagProps:{style:{fontSize:"12px"}},children:null==(n=s.children)?void 0:n.trimEnd()}):(0,a.jsx)("div",{className:"rounded-sm border border-[#8F8F8F]/30 p-2 text-xs font-normal leading-[15px]",style:{backgroundColor:"transparent",minHeight:"2em"}}):(0,a.jsx)("code",{...s,className:(0,A.cn)(s.className,"rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30")})}let M=e=>{let{contents:t,components:r}=e;return(0,a.jsx)(N.oz,{remarkPlugins:[L.A],rehypePlugins:[[B.A,{target:"_blank"}],S.A,[R.A,{tagNames:[...z.j.tagNames||[],"fileref"],attributes:{...z.j.attributes,fileref:["file-url","file-path","min","max"]}}]],components:{fileref:T,code:I,pre:D,...r},className:"prose-custom prose-custom-md prose-custom-gray !max-w-none text-neutral-300 [overflow-wrap:anywhere]",children:t})};function T(e){let{node:t}=e,r=t.properties,n=r["file-url"],l=r["file-path"],s=r.min,o=r.max,i=o?"".concat(s,"-").concat(o):s;return(0,a.jsxs)("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75",children:[(0,a.jsxs)("span",{className:(0,h.A)("flex items-center break-all rounded-l px-2 py-1.5","bg-[#e5e5e5] text-[#333333]","dark:bg-[#252525] dark:text-[#e4e4e4]",!s&&"rounded-r"),children:[(0,a.jsx)("svg",{className:"mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),l]}),s&&(0,a.jsx)("span",{className:(0,h.A)("flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5","border-[#dddddd] bg-[#d8d8d8] text-[#666666]","dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]"),children:i})]})}function D(e){let{node:t,...r}=e;return(0,a.jsx)("pre",{...r,className:(0,h.A)("px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900","dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white","[&_code]:block [&_code]:border-none [&_code]:bg-transparent [&_code]:p-0")})}let F=(0,v.memo)(M);var P=r(35165),H=r(1832),W=r(11454),O=r(51824),U=r(11265),V=r(82494),q=r(28461),X=r(90019),Z=r(60996).hp;let K=async e=>{try{let[t,r]=e.split("/"),a=new X.Eg;try{let{data:e}=await a.rest.repos.getReadme({owner:t,repo:r});console.log("readme",e);let n=Z.from(e.content,"base64").toString().includes("deepwiki");return{hasReadme:!0,mentionsWiki:n,readmeUrl:e.html_url}}catch(e){return{hasReadme:!1,mentionsWiki:!1}}}catch(e){return console.error("Error checking readme:",e),{hasReadme:!1,mentionsWiki:!1}}};var $=r(74305);let Y=async(e,t)=>{try{let r="".concat(V.H,"/ada/public_repo_update_featured_status?repo_name=").concat(encodeURIComponent(e),"&featured=").concat(t),a=await fetch(r,{method:"POST"});if(!a.ok)throw Error("HTTP error! status: ".concat(a.status));return await a.json()}catch(e){console.error("Failed to update featured status:",e)}},J=e=>{let{repoName:t,wiki:r}=e,{data:n}=((e,t)=>(0,q.I)({queryKey:["readme-check",e],queryFn:()=>K(e),staleTime:36e5,refetchOnWindowFocus:!1,...t}))(t),[l,s]=(0,v.useState)(!1),[o,i]=(0,v.useState)(""),[c,u]=(0,v.useState)(!1),[m,h]=(0,v.useState)(!1),[p,x]=(0,v.useState)(""),[f,g]=(0,v.useState)(!1),[b,w]=(0,v.useState)(!1),[j,k]=(0,v.useState)(!1);(0,v.useEffect)(()=>{i(window.location.href)},[]),(0,v.useEffect)(()=>{n&&n.mentionsWiki&&!l&&(Y(t,n.mentionsWiki),s(!0))},[n,t,l]);let N=async e=>{u(!0);try{let r=await (0,$.e)(),a=new URLSearchParams;a.append("repo_name",t),a.append("email_to_notify",e),r&&a.append("recaptcha_token",r);let n=await fetch("".concat(V.H,"/ada/index_public_repo?").concat(a.toString()),{method:"POST"});if(!n.ok)throw Error("Error ".concat(n.status,": ").concat(await n.text()));g(!0)}catch(e){console.error("Failed to refresh wiki:",e)}finally{u(!1),h(!1)}},C=(0,v.useMemo)(()=>{var e;if(!(null==r||null==(e=r.metadata)?void 0:e.generated_at))return{isDisabled:!1,daysRemaining:0};let t=new Date(r.metadata.generated_at),a=(new Date().getTime()-t.getTime())/864e5,n=a<=7,l=n?Math.ceil(7-a):0;return{isDisabled:n,daysRemaining:l}},[r]),_=C.isDisabled;return(0,a.jsx)(U.Kq,{children:(0,a.jsxs)(a.Fragment,{children:[n&&n.mentionsWiki&&(0,a.jsx)("div",{className:"mx-4 my-4 rounded-md border border-neutral-200 bg-neutral-100 p-3 text-sm text-neutral-600 dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-400",children:(0,a.jsx)("p",{className:"text-sm font-medium",children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(W.R,{size:16,className:"inline-block"})," This wiki is featured in the"," ",n.readmeUrl?(0,a.jsx)("a",{href:n.readmeUrl,target:"_blank",rel:"noopener noreferrer",onClick:()=>(0,y.sx)(y.lA.BANNER_README_EDIT_CLICK,{repoName:t}),className:"text-pacific hover:underline",children:"repository"}):"repository",(0,a.jsxs)(U.bL,{delayDuration:100,children:[(0,a.jsx)(U.l9,{asChild:!0,children:(0,a.jsx)(O.R,{size:16,className:"ml-1.5 inline-block cursor-help text-neutral-400 transition-colors hover:text-neutral-600 dark:text-neutral-500 dark:hover:text-neutral-400"})}),(0,a.jsx)(U.ZL,{children:(0,a.jsxs)(U.UC,{side:"top",className:"z-50 max-w-[250px] rounded-md border border-neutral-200 bg-white px-2 py-1 text-sm text-neutral-800 shadow-md dark:border-neutral-600 dark:bg-neutral-900 dark:text-white",children:["This wiki will automatically refresh weekly with the latest code changes since it's featured in the repository's README.",(0,a.jsx)(U.i3,{className:"fill-white dark:fill-neutral-900"})]})})]})]})})}),!j&&(0,a.jsxs)("div",{className:"relative mx-4 my-4 rounded-md border border-neutral-200 bg-neutral-100 p-3 text-sm text-neutral-600 dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-400",children:[(0,a.jsxs)("button",{onClick:()=>k(!0),className:"absolute right-2 top-2 rounded-sm p-1 opacity-70 transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-neutral-400 focus:ring-offset-2",children:[(0,a.jsx)(d.X,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Dismiss"})]}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Refresh this wiki"}),_&&!f&&(0,a.jsxs)("p",{className:"mt-2 text-sm font-light text-neutral-500 dark:text-neutral-400",children:["This wiki was recently refreshed. Please wait"," ",C.daysRemaining," day",1!==C.daysRemaining?"s":""," to refresh again."]}),_||m||f?m?(0,a.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,a.jsx)("input",{type:"email",placeholder:"your@email.com",value:p,onChange:e=>{var t;let r=e.target.value;x(r),w((t=r.trim(),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)))},className:"w-full rounded-md border border-neutral-200 bg-white px-3 py-2 text-sm text-gray-900 dark:border-neutral-700 dark:bg-neutral-800 dark:text-white"}),(0,a.jsx)("button",{onClick:()=>N(p),disabled:!p||!b||c||_,className:"flex items-center justify-center gap-1 rounded-md bg-neutral-200 px-3 py-2 text-sm font-medium text-neutral-700 transition-colors hover:bg-neutral-300 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-neutral-800 dark:text-neutral-300 dark:hover:bg-neutral-700",children:c?"Starting refresh...":"Start refresh"})]}):null:(0,a.jsx)("button",{onClick:()=>h(!0),className:"mt-2 flex items-center gap-1 rounded-md bg-neutral-200 px-2 py-1 text-sm font-medium text-neutral-700 transition-colors hover:bg-neutral-300 dark:bg-neutral-800 dark:text-neutral-300 dark:hover:bg-neutral-700",children:"Enter email to refresh"}),f&&(0,a.jsxs)("p",{className:"mt-2 text-sm font-light text-green-600 dark:text-green-400",children:["Refresh started! We'll email you when the refresh completes.",(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"font-medium",children:"Want auto-refresh?"})," Add a badge in the repo's README",(0,a.jsxs)(U.bL,{delayDuration:100,children:[(0,a.jsx)(U.l9,{asChild:!0,children:(0,a.jsx)(O.R,{size:16,className:"ml-1.5 inline-block cursor-help text-neutral-400 transition-colors hover:text-neutral-600 dark:text-neutral-500 dark:hover:text-neutral-400"})}),(0,a.jsx)(U.ZL,{children:(0,a.jsxs)(U.UC,{side:"top",className:"z-50 max-w-[250px] rounded-md border border-neutral-200 bg-white px-2 py-1 text-sm text-neutral-800 shadow-md dark:border-neutral-600 dark:bg-neutral-900 dark:text-white",children:["Add a badge to this wiki in the repo's README file to auto-refresh the wiki weekly."," ",(0,a.jsx)("a",{href:o?"/badge-maker?url=".concat(encodeURIComponent(o)):"/badge-maker",target:"_blank",rel:"noopener noreferrer",className:"text-pacific hover:underline",children:"Create badge"}),(0,a.jsx)(U.i3,{className:"fill-white dark:fill-neutral-900"})]})})]})]})]})]})]})})};var Q=r(39608),G=r(14249),ee=r(60895);let et=v.forwardRef(function(e,t){let{svg:r,className:n,isPopup:l=!1}=e,s=v.useRef(null),o=v.useRef(null),i=v.useRef(0),c=v.useCallback((e,t)=>{var r,a;let n=o.current;if(!n||!i.current)return;let l=n.viewBox.baseVal;if(!l.width||!l.height)return;let s=n.getBoundingClientRect();if(!s.width||!s.height)return;let c=null!=(r=null==t?void 0:t.x)?r:s.width/2,d=null!=(a=null==t?void 0:t.y)?a:s.height/2,u=l.width,m=l.height,h=l.x+c/s.width*u,p=l.y+d/s.height*m,x=u*e,f=m*e,g=i.current;x=Math.max(10,Math.min(g,x)),f=Math.max(10/u*m,Math.min(g/u*m,f));let v=h-c/s.width*x,b=p-d/s.height*f;n.setAttribute("viewBox","".concat(v," ").concat(b," ").concat(x," ").concat(f))},[]);return v.useImperativeHandle(t,()=>({zoomIn:()=>c(1/1.2),zoomOut:()=>c(1.2)}),[c]),v.useEffect(()=>{let e=s.current;if(!e)return;e.innerHTML=r;let t=e.querySelector("svg");if(!t)return;if(o.current=t,t.style.touchAction="none",t.style.userSelect="none",t.style.cursor="grab",t.style.minHeight="fit-content",t.style.maxWidth="100%",t.style.maxHeight="100%",t.removeAttribute("width"),t.removeAttribute("height"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),!t.viewBox||!t.viewBox.baseVal.width||!t.viewBox.baseVal.height){let e=t.getBoundingClientRect(),r=Number(t.getAttribute("width"))||e.width||800,a=Number(t.getAttribute("height"))||e.height||600;t.setAttribute("viewBox","0 0 ".concat(r," ").concat(a))}let a={x:t.viewBox.baseVal.x,y:t.viewBox.baseVal.y,width:t.viewBox.baseVal.width,height:t.viewBox.baseVal.height},n=e.getBoundingClientRect(),d=a.width;if(n.width>0&&n.height>0){let e=Math.max(a.width/n.width,a.height/n.height);if(e>1){let r=n.width*e,l=n.height*e,s=a.x-(r-a.width)/2,o=a.y-(l-a.height)/2;t.setAttribute("viewBox","".concat(s," ").concat(o," ").concat(r," ").concat(l)),d=r}}i.current=d;let u=!1,m=!1,h={x:0,y:0,w:0,h:0},p={x:0,y:0,w:0,h:0},x=e=>{var r;if(0!==e.button)return;e.preventDefault();let a=t.getBoundingClientRect();h={x:e.clientX,y:e.clientY,w:a.width,h:a.height},p={x:t.viewBox.baseVal.x,y:t.viewBox.baseVal.y,w:t.viewBox.baseVal.width,h:t.viewBox.baseVal.height},u=!0,m=!1,t.style.cursor="grabbing",null==(r=t.setPointerCapture)||r.call(t,e.pointerId)},f=e=>{if(!u)return;e.preventDefault();let r=e.clientX-h.x,a=e.clientY-h.y;Math.sqrt(r*r+a*a)>5&&(m=!0);let n=p.w/h.w,l=p.h/h.h,s=p.x-r*n,o=p.y-a*l;t.setAttribute("viewBox","".concat(s," ").concat(o," ").concat(p.w," ").concat(p.h))},g=e=>{var r;u&&(u=!1,t.style.cursor="grab",null==(r=t.releasePointerCapture)||r.call(t,e.pointerId))},v=e=>{m&&(e.stopPropagation(),e.preventDefault(),m=!1)},b=e=>{if(!l)return;e.preventDefault();let r=t.getBoundingClientRect(),a=e.clientX-r.left,n=e.clientY-r.top;c(Math.pow(1.06,e.deltaY>0?1:-1),{x:a,y:n})};return t.addEventListener("pointerdown",x,{passive:!1}),t.addEventListener("pointermove",f,{passive:!1}),t.addEventListener("pointerup",g,{passive:!1}),t.addEventListener("pointercancel",g,{passive:!1}),t.addEventListener("wheel",b,{passive:!1}),t.addEventListener("click",v,{passive:!1}),()=>{t.removeEventListener("pointerdown",x),t.removeEventListener("pointermove",f),t.removeEventListener("pointerup",g),t.removeEventListener("pointercancel",g),t.removeEventListener("wheel",b),t.removeEventListener("click",v)}},[r,l,c]),(0,a.jsx)("div",{ref:s,className:n})}),er=e=>{let{content:t}=e,[n,l]=v.useState(""),[s,u]=v.useState(!1),[m,h]=v.useState(!1),p=v.useRef(null),x=v.useRef(null),f=(0,k.D)().resolvedTheme;return(v.useEffect(()=>{let e=!1;return async function(){try{var a;let n=(!((a=t.split("\n").filter(e=>{let t=e.trim();return!t.startsWith("style ")&&!t.startsWith("classDef ")}).join("\n")).includes("sequenceDiagram")&&a.includes(" as "))?a:a.replace(/(^\s*)(participant|actor)\s+["']([^"']+)["']\s+as\s+([^"'\s]+)$/gm,(e,t,r,a,n)=>"".concat(t).concat(r," ").concat(n," as ").concat(a))).replace(/\|"(\d+)\.\s/g,'|"$1.'),{default:s}=await Promise.all([r.e(4756),r.e(6182)]).then(r.bind(r,16182));s.initialize({startOnLoad:!1,theme:"base",securityLevel:"strict",themeVariables:"dark"===f?{primaryColor:"#222",primaryTextColor:"#fff",primaryBorderColor:"#333",lineColor:"#666",mainBkg:"#111",nodeBorder:"#222",clusterBkg:"#161616",clusterBorder:"#222",textColor:"#ccc",titleColor:"#fff",labelTextColor:"#ccc",activeBorderColor:"#333",activeTextColor:"#fff",altBackground:"#161616",noteTextColor:"#ccc",noteBkgColor:"#222",noteBorderColor:"#333",nodeBkg:"#111",actorBkg:"#161616",actorBorder:"#444",signalColor:"#666",signalTextColor:"#ccc",classText:"#ccc",labelBoxBkgColor:"#111",labelBoxBorderColor:"#222",fontFamily:"ui-sans-serif, -apple-system, system-ui, Segoe UI, Helvetica",fontSize:"16px",curve:"basis",edgeLabelBackground:"#161616",tertiaryColor:"#333"}:{primaryColor:"#eaeaea",primaryTextColor:"#333",primaryBorderColor:"#ccc",lineColor:"#999",mainBkg:"#ffffff",nodeBorder:"#dddddd",clusterBkg:"#f8f8f8",clusterBorder:"#dddddd",textColor:"#333",titleColor:"#444",labelTextColor:"#333",activeBorderColor:"#aaaaaa",activeTextColor:"#333",altBackground:"#f8f8f8",noteTextColor:"#333",noteBkgColor:"#fff5ad",noteBorderColor:"#e6d280",nodeBkg:"#ffffff",actorBkg:"#ffffff",actorBorder:"#cccccc",signalColor:"#999999",signalTextColor:"#333333",classText:"#333333",labelBoxBkgColor:"#ffffff",labelBoxBorderColor:"#dddddd",fontFamily:"ui-sans-serif, -apple-system, system-ui, Segoe UI, Helvetica",fontSize:"16px",curve:"basis",edgeLabelBackground:"#ffffff",tertiaryColor:"#dddddd"},logLevel:5});let o=document.createElement("div");o.style.position="absolute",o.style.left="-9999px",document.body.appendChild(o);let i=n.replaceAll(/\\n/g,"<br/>"),c="mermaid-".concat(Math.random().toString(36).substring(2,15)),{svg:d}=await s.render(c,i,o);e||(l(d),u(!1)),document.body.removeChild(o)}catch(t){console.error("Failed to render mermaid diagram:",t),e||u(!0)}}(),()=>{e=!0}},[t,f]),s||!n)?null:(0,a.jsxs)(H.lG,{open:m,onOpenChange:h,children:[(0,a.jsx)(H.zM,{asChild:!0,children:(0,a.jsxs)("div",{className:"group relative cursor-pointer overflow-x-auto rounded-md bg-[#f2f1f0] p-4 transition-colors hover:bg-[#ededed] dark:bg-[#1f1f1f] dark:hover:bg-[#242424]",children:[(0,a.jsx)(et,{ref:p,svg:n,className:"flex max-h-[70vh] justify-center",isPopup:!1}),(0,a.jsxs)("div",{className:"absolute right-2 top-2 flex items-center gap-1 opacity-0 transition-opacity group-hover:opacity-100",children:[(0,a.jsx)("button",{onClick:e=>{var t;e.stopPropagation(),null==(t=p.current)||t.zoomIn()},className:"cursor-pointer rounded-sm p-1 text-[#333] opacity-70 transition-opacity hover:opacity-100 dark:text-white","aria-label":"Zoom in",children:(0,a.jsx)(o.F,{size:16})}),(0,a.jsx)("button",{onClick:e=>{var t;e.stopPropagation(),null==(t=p.current)||t.zoomOut()},className:"cursor-pointer rounded-sm p-1 text-[#333] opacity-70 transition-opacity hover:opacity-100 dark:text-white","aria-label":"Zoom out",children:(0,a.jsx)(i.H,{size:16})}),(0,a.jsx)("div",{className:"rounded-sm p-1",children:(0,a.jsx)(c.D,{size:16,className:"text-[#333] dark:text-white"})})]})]})}),(0,a.jsx)(H.Cf,{className:"bg-surface max-h-[90vh] max-w-[90vw] overflow-hidden p-0 sm:max-w-[90vw]",children:(0,a.jsxs)("div",{className:"relative max-h-[90vh] overflow-hidden p-4",children:[(0,a.jsxs)("div",{className:"absolute right-4 top-4 z-10 flex items-center gap-1",children:[(0,a.jsx)("button",{onClick:()=>{var e;return null==(e=x.current)?void 0:e.zoomIn()},className:"cursor-pointer rounded-sm p-1 text-[#333] opacity-70 transition-opacity hover:opacity-100 dark:text-white","aria-label":"Zoom in",children:(0,a.jsx)(o.F,{size:16})}),(0,a.jsx)("button",{onClick:()=>{var e;return null==(e=x.current)?void 0:e.zoomOut()},className:"cursor-pointer rounded-sm p-1 text-[#333] opacity-70 transition-opacity hover:opacity-100 dark:text-white","aria-label":"Zoom out",children:(0,a.jsx)(i.H,{size:16})}),(0,a.jsxs)(H.HM,{className:"cursor-pointer rounded-sm p-1 text-[#333] opacity-70 transition-opacity hover:opacity-100 dark:text-white",children:[(0,a.jsx)(d.X,{size:16}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]}),(0,a.jsx)(et,{ref:x,svg:n,className:"flex max-h-full max-w-full justify-center",isPopup:!0})]})})]})},ea=(0,f.default)(()=>Promise.resolve(er),{ssr:!1});function en(e){let{href:t,headers:r,isAda:n}=e;if(t&&t.startsWith("#header-")&&n){let e=t.replace("#header-",""),n=r.find(t=>t.id===e);if(n)return(0,a.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText(n.contentText||"").then(()=>{let t=document.getElementById("copy-tooltip-".concat(e));t&&(t.classList.remove("hidden"),setTimeout(()=>{t.classList.add("hidden")},2e3))}).catch(e=>{console.error("Failed to copy: ",e)})},className:"relative ml-2 text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100","aria-label":"Copy section content",children:[(0,a.jsx)(u.Q,{className:"h-4 w-4"}),(0,a.jsx)("span",{id:"copy-tooltip-".concat(e),className:"absolute z-50 ml-1 mt-1 hidden whitespace-nowrap rounded bg-gray-700 px-2 py-1 text-xs",children:"Section copied!"})]})}return null}let el=e=>{let{contents:t,id:r,selectedPage:n,externalComponents:l,isAda:s,wiki:o,repoName:i}=e,c=(0,v.useRef)(new Set),d=(0,v.useMemo)(()=>(0,G.H)(t),[t]),{headers:u,processedText:m}=(0,v.useMemo)(()=>(function(e,t){let r,a=/^(#{1,3})\s+(.+?)$/gm,n=/^[ ]{0,3}```/gm,l=[];for(;null!==(r=a.exec(e));)(e.slice(0,r.index).match(n)||[]).length%2!=1&&l.push({id:"header-".concat(l.length+1),level:r[1].length,startIndex:r.index,endIndex:r.index+r[0].length,text:r[2]});l.sort((e,t)=>e.startIndex-t.startIndex);for(let t=0;t<l.length;t++){let r=l[t],a=r.startIndex,n=e.length;for(let e=t+1;e<l.length;e++){let t=l[e];if(t.level===r.level){n=t.startIndex;break}}let s=e.slice(a,n);l[t].contentText=s}if(t){l.sort((e,t)=>t.endIndex-e.endIndex);let t=e;for(let e=0;e<l.length;e++)t=t.slice(0,l[e].endIndex)+"[".concat(l[e].id,"](#").concat(l[e].id,")")+t.slice(l[e].endIndex);return{headers:l,processedText:t}}return{headers:l,processedText:e}})(d,s),[d,s]),h=(0,v.useRef)(null);(0,v.useEffect)(()=>{c.current.clear()},[n]);let p=(0,v.useMemo)(()=>{c.current.clear();let e=e=>{let{children:t,node:r,level:n,...l}=e,o="h".concat(n);if(s)return v.createElement(o,{className:"group",...l},t);let i=("string"==typeof t?t:String(t)||"").toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-");return c.current.add(i),v.createElement(o,{id:i,className:"group","data-header":!0,...l},[t,(0,a.jsx)(P.D,{onCopyLink:()=>{(0,y.sx)(y.lA.SHARE_BUTTON_CLICK,{headerId:i,url:"".concat(window.location.origin).concat(window.location.pathname,"#").concat(i)});let e="".concat(window.location.origin).concat(window.location.pathname,"#").concat(i);eu(i),navigator.clipboard.writeText(e).catch(e=>{console.error("Failed to copy: ",e)})},label:"Copy link to header"},"copy-btn")])},t={h1:function(t){return(0,a.jsx)(e,{level:1,...t})},h2:function(t){return(0,a.jsx)(e,{level:2,...t})},h3:function(t){return(0,a.jsx)(e,{level:3,...t})},h4:function(t){return(0,a.jsx)(e,{level:4,...t})},a:e=>{let{href:t,children:r,node:n,...l}=e,c=en({href:t,headers:u,isAda:s});if(null!==c)return c;if(t&&/^#\d+(\.\d+)*$/.test(t)){let e=t.replace("#",""),r=null==o?void 0:o.pages.find(t=>t.page_plan.id===e);r&&i&&(t="/".concat(i,"/").concat(r.page_plan.id,"-").concat(w()(r.page_plan.title).toLowerCase()))}return(0,a.jsx)("a",{href:t,className:"text-neutral-300 hover:text-neutral-200 hover:underline",...l,children:r})},code:e=>(0,a.jsx)(es,{...e,isAda:s})};return l?{...t,...l,a:e=>{if(e.href.startsWith("/wiki/")){let r=e.href.substring(5),a=r.lastIndexOf("#");-1!==a&&(r=r.substring(0,a)+"/"+r.substring(a+1));let n="";e.children&&"string"==typeof e.children?n=e.children:e.children&&Array.isArray(e.children)&&(n=String(e.children[0]||""));let s=n.indexOf(" (");-1!==s&&(n=n.substring(0,s));let o=w()(n).toLowerCase();return o&&(r=r+"-"+o),v.createElement((null==l?void 0:l.a)||t.a,{...e,href:r})}let r=en({href:e.href,headers:u,isAda:s});return null!==r?r:l.a?v.createElement(l.a,e):v.createElement(t.a,e)}}:t},[n,u,s,l,m,c,o,i]);return s?(0,a.jsx)(F,{contents:m,components:p},"".concat(r,"-content")):(0,a.jsx)("div",{ref:h,children:(0,a.jsx)(M,{contents:m,components:p},"".concat(r,"-content"))})};function es(e){let{className:t,children:r,isAda:n,node:l,...s}=e,o=null==t?void 0:t.replace("language-","");if("mermaid"===o)return(0,a.jsx)(ea,{content:String(r)});let i=Q.W[o]||o,c=i!==o?"language-".concat(i):t;return(0,a.jsx)(I,{className:c,node:l,...s,children:r})}let eo=e=>{let{bounds:t,handleClick:r}=e,{refs:o,floatingStyles:i}=(0,n.we)({placement:"top",middleware:[(0,l.cY)(20),(0,l.UU)({fallbackPlacements:["bottom"]}),(0,l.BN)({padding:8})],whileElementsMounted:s.ll,elements:{reference:(null==t?void 0:t.isVisible)?{getBoundingClientRect:()=>t.range.getBoundingClientRect()}:null}});return(null==t?void 0:t.isVisible)?(0,a.jsx)(n.XF,{children:(0,a.jsx)("div",{ref:o.setFloating,style:i,className:"bg-card text-card-foreground z-50 rounded-md px-3 py-2 text-sm shadow-lg",children:(0,a.jsxs)("button",{onClick:r,className:"flex items-center gap-2 whitespace-nowrap hover:opacity-80",children:[(0,a.jsx)("span",{children:"Add to Context"}),(0,a.jsx)("span",{className:"bg-accent text-accent-foreground rounded px-1.5 py-0.5 text-xs",children:"Press Q"})]})})}):null},ei=e=>{let{repoName:t,selectedPage:r,wiki:n,previewId:l}=e,s=(0,v.useRef)(null),[o,i]=(0,v.useState)(null),c=(0,v.useRef)(""),d=(0,p.Xr)(j.O);(0,v.useEffect)(()=>{let e=()=>{var e,t;let r=window.getSelection(),a=(null==r?void 0:r.toString().trim())||"";if(a!==c.current){if(c.current=a,!(null==r?void 0:r.rangeCount)||!a||!(null==(e=s.current)?void 0:e.contains(r.anchorNode))||!(null==(t=s.current)?void 0:t.contains(r.focusNode)))return void i(null);i({range:r.getRangeAt(0),isVisible:!0})}},t=e=>{var t,r,a;let n=window.getSelection();"q"===e.key.toLowerCase()&&(null==n?void 0:n.toString().trim())&&(null==(t=s.current)?void 0:t.contains(n.focusNode))&&(null==(r=s.current)?void 0:r.contains(n.anchorNode))&&(e.preventDefault(),i(null),d(n.toString().trim()),null==(a=window.getSelection())||a.removeAllRanges())};return document.addEventListener("selectionchange",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("selectionchange",e),document.removeEventListener("keydown",t)}},[d]);let u=n.pages.find(e=>e.page_plan.id===r);u||(0,g.redirect)("/"+t,g.RedirectType.replace);let m=(0,v.useMemo)(()=>{if(!u)return[];let e=new Set;return x.xI.lexer(u.content).filter(e=>"heading"===e.type).map((t,r)=>{let a=t.text.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-"),n=a,l=1;for(;e.has(n);)n="".concat(a,"-").concat(l),l++;return e.add(n),{id:n,text:t.text,level:t.depth,startIndex:r,endIndex:r+1}})},[u]),f=(function(e,t){return e?t.replace(/\[([^\]]+)\]\(([^)]*)\)([,.])?/g,function(t,r){let a,n,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if("&"===r)return t;if(l&&/^#?\d+(\.\d+)*$/.test(l))return"[".concat(r,"](#").concat(l.replace(/^#/,""),")").concat(s);if(0===l.indexOf("http")&&!l.includes("github.com"))return t;let o=r;o.startsWith("/")&&(o=o.slice(1));let i="";if(o.includes(":")){a=Number.MAX_SAFE_INTEGER,n=0;let[e,t]=o.split(":");o=e,t.split(",").forEach(e=>{let[t,r=t]=e.trim().includes("-")?e.split("-").map(e=>parseInt(e.trim(),10)):[parseInt(e.trim(),10)];a=Math.min(a,t),n=Math.max(n,r)}),i="#L".concat(a,"-L").concat(n)}let c="",d=(e.metadata.repo_name.match(/\//g)||[]).length,u=function(e){try{let t=e.includes("://")?e:"https://".concat(e),r=new URL(t).hostname.toLowerCase();return"dev.azure.com"===r||r.endsWith(".visualstudio.com")}catch(e){return!1}}(e.metadata.repo_name);c=1===d?"https://github.com/".concat(e.metadata.repo_name,"/blob/").concat(e.metadata.commit_hash,"/"):u?"https://".concat(e.metadata.repo_name,"?path=/"):e.metadata.repo_name.includes("github")?"https://".concat(e.metadata.repo_name,"/blob/").concat(e.metadata.commit_hash,"/"):"https://".concat(e.metadata.repo_name,"/-/blob/").concat(e.metadata.commit_hash,"/");let m=i;u&&i&&(m=i.replace(/^#/,"&"));let h="".concat(c).concat(o).concat(m);return"<FileRef file-url=".concat(JSON.stringify(h)," ").concat(a&&"min=".concat(a)," ").concat(n&&n!==a?"max=".concat(n):""," file-path=").concat(JSON.stringify(o),">Hii</FileRef>")}):t})(n,(null==u?void 0:u.content)||"No content available").replace("\nThe following files were used as context for generating this wiki page:\n","");return n&&0!==n.pages.length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex h-full flex-1 flex-col overflow-hidden",children:[(0,a.jsx)(ec,{repoName:t,selectedPage:r,wiki:n,previewId:l}),(0,a.jsxs)("div",{ref:s,className:"relative flex-1 overflow-y-auto px-3 pt-3 md:rounded-md md:px-0 md:pt-0 [&_::selection]:bg-purple-500/40",style:{scrollbarColor:"var(--color-night) transparent"},children:[(0,a.jsx)("div",{className:"pb-30 mx-auto max-w-2xl md:pb-40 md:pt-6 lg:pt-8",children:(0,a.jsx)("div",{className:"prose prose-invert dark:prose-invert prose-headings:text-inherit prose-p:text-inherit max-w-none",children:(0,a.jsx)(el,{id:"wiki-".concat(t,"-").concat(r),contents:f,selectedPage:r,wiki:n,repoName:t})})}),!l&&(0,a.jsx)(eo,{bounds:o,handleClick:()=>{var e;d(c.current),null==(e=window.getSelection())||e.removeAllRanges(),i(null)}})]})]}),m.length>0&&(0,a.jsx)("div",{className:(0,h.A)("hidden overflow-hidden transition-[border-radius] xl:sticky xl:right-0 xl:top-20 xl:block xl:h-[calc(100vh-82px)] xl:w-64 xl:flex-shrink-0 2xl:w-72",l&&"xl:top-28"),style:{scrollbarWidth:"none"},children:(0,a.jsx)(ed,{headers:m,repoName:t,wiki:n,previewId:l})})]}):(0,a.jsx)("div",{className:"bg-night rounded-lg p-6",children:(0,a.jsx)("p",{children:"No wiki content available for this repository."})})};function ec(e){let{repoName:t,selectedPage:r,wiki:n,previewId:l}=e,[s,o]=(0,v.useState)(!1);return(0,v.useEffect)(()=>{s?document.body.style.overflow="hidden":document.body.style.overflow="auto"},[s]),(0,a.jsxs)("div",{className:"bg-background border-b-border sticky top-0 z-10 border-b border-dashed md:hidden",onClick:()=>o(!s),children:[(0,a.jsxs)("div",{className:"flex cursor-pointer items-center gap-2 p-3",children:[(0,a.jsx)(m.K,{className:(0,h.A)("transition-transform",s&&"rotate-90"),weight:"bold",size:16}),(0,a.jsx)("span",{className:"truncate text-base font-normal",children:"Menu"})]}),s&&(0,a.jsx)("div",{className:"block h-screen w-full px-2",children:(0,a.jsx)(ee.M,{repoName:t,selectedPage:r,onLinkClick:()=>o(!1),wiki:n,previewId:l})})]})}let ed=e=>{var t,r;let{headers:n,repoName:l,wiki:s,previewId:o}=e,[i,c]=(0,v.useState)(null),d=null!=(r=null!=i?i:null==(t=n.at(0))?void 0:t.id)?r:null;return((0,v.useEffect)(()=>{let e=Array.from(document.querySelectorAll("h1, h2, h3, h4")).filter(e=>"dataset"in e&&"header"in e.dataset),t=new IntersectionObserver(e=>{let t=e.filter(e=>e.isIntersecting);t.length>0&&c(t[0].target.id)},{rootMargin:"-20px 0px -80% 0px",threshold:.5});return e.forEach(e=>{t.observe(e)}),()=>{e.forEach(e=>{t.unobserve(e)})}},[n]),0===n.length)?null:(0,a.jsxs)("div",{className:"flex max-h-full w-full flex-shrink-0 flex-col py-6 pt-0 text-sm lg:pb-4 lg:pt-8 xl:w-64 2xl:w-72",style:{scrollbarColor:"var(--color-night) transparent"},children:[(0,a.jsx)("div",{children:l&&!o&&(0,a.jsx)(J,{repoName:l,wiki:s})}),(0,a.jsx)("h3",{className:"px-4 pb-5 text-lg font-medium leading-none",children:"On this page"}),(0,a.jsx)("ul",{style:{scrollbarWidth:"none"},className:"min-h-0 flex-1 space-y-3 overflow-y-auto p-4 pt-0",children:n.map(e=>(0,a.jsx)("li",{className:"".concat(1===e.level?"":2===e.level?"ml-3":"ml-6"),children:(0,a.jsx)("a",{href:"#".concat(e.id),onClick:t=>{t.preventDefault(),eu(e.id)},className:(0,A.cn)("hover:text-primary pr-1 font-normal transition-all",d===e.id?"text-primary font-medium":"text-secondary"),children:e.text})},e.id))})]})};function eu(e){let t=document.getElementById(e);if(t){history.pushState(null,"","#".concat(e));let r=t.getBoundingClientRect().top+window.scrollY+-102;window.scrollTo({top:r,behavior:"smooth"})}}},14028:(e,t,r)=>{r.d(t,{O:()=>l,m:()=>n});var a=r(46880);let n=(0,a.eU)(null),l=(0,a.eU)(null)},14249:(e,t,r)=>{r.d(t,{H:()=>a});function a(e){let t=e.split("\n"),r=!1;for(let e=0;e<t.length;e++)t[e].trim().startsWith("```")&&(r=!r);return r&&t.push("```"),t.join("\n")}},35165:(e,t,r)=>{r.d(t,{D:()=>s});var a=r(54568),n=r(52341),l=r(69885);function s(e){let{onCopyLink:t,label:r}=e;return(0,a.jsx)("button",{className:"relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100","aria-label":r,onClick:()=>{t(),l.oR.success("Link copied!")},children:(0,a.jsx)(n.N,{weight:"bold",className:"h-4 w-4"})})}},39608:(e,t,r)=>{r.d(t,{A:()=>i,W:()=>c});var a=r(54568),n=r(7620),l=r(86662),s=r(25703);let o={blue:"#519aba",green:"#8dc149",orange:"#e37933",pink:"#f55385",purple:"#a074c4",red:"#cc3e44",steel:"#7494a3",yellow:"#cbcb41"},i=function(e){var t;let r=null!=(t=(0,l.getIcon)(e))?t:(0,l.getIcon)("test.txt");return(0,n.memo)(function(e){var t;let{className:n,size:l=20}=e;return(0,a.jsx)("div",{className:(0,s.cn)("[&_svg_path]:fill-current",n),style:{fill:null!=(t=o[r.color])?t:r.color,height:l,width:l},dangerouslySetInnerHTML:{__html:r.svg}})})},c={js:"javascript",jsx:"javascript",mjs:"javascript",cjs:"javascript",ts:"typescript",tsx:"typescript",mts:"typescript",cts:"typescript",py:"python",java:"java",cpp:"cpp",c:"c",cs:"csharp",css:"css",scss:"scss",less:"less",html:"html",htm:"html",json:"json",md:"markdown",yml:"yaml",yaml:"yaml",sh:"shellscript",bash:"shellscript",sql:"sql",php:"php",rb:"ruby",go:"go",rs:"rust",swift:"swift",kt:"kotlin",vue:"vue",dart:"dart",lua:"lua",r:"r",tex:"tex",latex:"latex",dockerfile:"dockerfile","docker-compose":"dockercompose",gitignore:"ignore",properties:"properties",gradle:"gradle",tf:"terraform",hcl:"terraform",sass:"sass",styl:"stylus",pug:"pug",jade:"pug",coffee:"coffeescript",clj:"clojure",ex:"elixir",elm:"elm",hs:"haskell",hx:"haxe",j2:"jinja",ml:"ocaml",re:"rescript",vala:"vala","blade.php":"blade",erb:"erb",haml:"haml",mustache:"mustache",njk:"nunjucks",todo:"todo"}},47781:(e,t,r)=>{r.d(t,{SQ:()=>m,_2:()=>h,rI:()=>d,ty:()=>u});var a=r(54568),n=r(92688),l=r(14486),s=r(6438),o=r(66970),i=r(7620),c=r(25703);let d=n.bL,u=n.l9;n.YJ,n.ZL,n.Pb,n.z6,i.forwardRef((e,t)=>{let{className:r,inset:s,children:o,...i}=e;return(0,a.jsxs)(n.ZP,{ref:t,className:(0,c.cn)("focus:bg-accent data-[state=open]:bg-accent flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none",s&&"pl-8",r),...i,children:[o,(0,a.jsx)(l.A,{className:"ml-auto h-4 w-4"})]})}).displayName=n.ZP.displayName,i.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)(n.G5,{ref:t,className:(0,c.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] overflow-hidden rounded-md border p-1 shadow-lg",r),...l})}).displayName=n.G5.displayName;let m=i.forwardRef((e,t)=>{let{className:r,sideOffset:l=4,...s}=e;return(0,a.jsx)(n.ZL,{children:(0,a.jsx)(n.UC,{ref:t,sideOffset:l,className:(0,c.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] overflow-hidden rounded-md border p-1 shadow-md",r),...s})})});m.displayName=n.UC.displayName;let h=i.forwardRef((e,t)=>{let{className:r,inset:l,...s}=e;return(0,a.jsx)(n.q7,{ref:t,className:(0,c.cn)("focus:bg-accent focus:text-accent-foreground relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50",!s.disabled&&"cursor-pointer",l&&"pl-8",r),...s})});h.displayName=n.q7.displayName,i.forwardRef((e,t)=>{let{className:r,children:l,checked:o,...i}=e;return(0,a.jsxs)(n.H_,{ref:t,className:(0,c.cn)("focus:bg-accent focus:text-accent-foreground relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),checked:o,...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(n.VF,{children:(0,a.jsx)(s.A,{className:"h-4 w-4"})})}),l]})}).displayName=n.H_.displayName,i.forwardRef((e,t)=>{let{className:r,children:l,...s}=e;return(0,a.jsxs)(n.hN,{ref:t,className:(0,c.cn)("focus:bg-accent focus:text-accent-foreground relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...s,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(n.VF,{children:(0,a.jsx)(o.A,{className:"h-2 w-2 fill-current"})})}),l]})}).displayName=n.hN.displayName,i.forwardRef((e,t)=>{let{className:r,inset:l,...s}=e;return(0,a.jsx)(n.JU,{ref:t,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",l&&"pl-8",r),...s})}).displayName=n.JU.displayName,i.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)(n.wv,{ref:t,className:(0,c.cn)("bg-muted -mx-1 my-1 h-px",r),...l})}).displayName=n.wv.displayName},60895:(e,t,r)=>{r.d(t,{M:()=>d});var a=r(54568),n=r(9779),l=r(19664),s=r.n(l),o=r(68412),i=r.n(o),c=r(25703);function d(e){let{wiki:t,repoName:r,selectedPage:l,onLinkClick:o,previewId:d}=e;return(0,a.jsxs)("div",{className:"flex h-full w-full max-w-full flex-shrink-0 flex-col overflow-hidden",style:{scrollbarColor:"var(--color-border) transparent"},children:[(0,a.jsx)("div",{className:"flex-shrink-0 px-2",children:t.metadata.generated_at&&(0,a.jsxs)("div",{className:"text-secondary pb-1 text-xs",children:["Last indexed: ",function(e){try{let t=new Date(e);return(0,n.GP)(t,"d MMMM yyyy")}catch(t){return e}}(t.metadata.generated_at)," (",(0,a.jsx)("a",{href:"https://github.com/".concat(r,"/commits/").concat(t.metadata.commit_hash),target:"_blank",rel:"noopener noreferrer",className:"underline-offset-2 hover:underline",children:t.metadata.commit_hash.substring(0,6)}),")"]})}),(0,a.jsx)("ul",{className:"flex-1 flex-shrink-0 space-y-1 overflow-y-auto py-1",style:{scrollbarWidth:"none"},children:t.pages.map(e=>{let t=e.page_plan.id.split(".").length-1;return(0,a.jsx)("li",{style:{paddingLeft:12*t},children:(0,a.jsx)(s(),{"data-selected":l===e.page_plan.id,className:(0,c.cn)("hover:bg-hover block w-full rounded px-2 py-1.5 text-left text-sm transition-none","text-secondary data-[selected=true]:bg-hover data-[selected=true]:text-primary font-normal data-[selected=true]:font-normal"),href:d?"/".concat(r,"/preview/").concat(d,"/").concat(e.page_plan.id,"-").concat(i()(e.page_plan.title).toLowerCase()):"/".concat(r,"/").concat(e.page_plan.id,"-").concat(i()(e.page_plan.title).toLowerCase()),onClick:o,children:e.page_plan.title})},e.page_plan.id)})})]})}},84874:(e,t,r)=>{r.d(t,{B:()=>_});var a=r(54568),n=r(84315),l=r(6596),s=r(69899),o=r(60168),i=r(84797),c=r(27541),d=r(7620),u=r(89273),m=r(25703);let h=navigator.platform.toLowerCase().includes("mac");var p=r(14028),x=r(78627),f=r(17484),g=r(70024),v=r(88174),b=r(8603),w=r(29098),y=r(95400),j=r(47781);let k=[{name:"fast",label:"Fast",description:"Quick and responsive answers",icon:x.l,buttonClassName:"",weight:"fill"},{name:"deep",label:"Deep Research",description:"More thorough investigation",icon:f.j,buttonClassName:"data-[selected=true]:bg-[#ef9541]/20 data-[selected=true]:text-[#ef9541] data-[selected=true]:hover:bg-[#ef9541]/30 data-[selected=true]:data-[state=open]:bg-[#ef9541]/30 data-[selected=true]:data-[state=open]:text-[#ef9541]",weight:"fill"},{name:"codemap",label:"Codemap",description:"Structured explanation grounded in code",icon:g.z,weight:"regular",buttonClassName:"data-[selected=true]:bg-purple-500/20 data-[selected=true]:text-purple-600 dark:data-[selected=true]:text-purple-400 data-[selected=true]:hover:bg-purple-500/20 data-[selected=true]:data-[state=open]:bg-purple-500/20 data-[selected=true]:data-[state=open]:text-purple-600 dark:data-[selected=true]:data-[state=open]:text-purple-400"}];function N(e){let{value:t,onValueChange:r,modes:n}=e,l=n?k.filter(e=>n.includes(e.name)):k,s=l.find(e=>e.name===t),o=null==s?void 0:s.icon;return(0,a.jsxs)(j.rI,{modal:!1,children:[(0,a.jsx)(j.ty,{asChild:!0,children:(0,a.jsxs)(y.$,{variant:"ghost","data-selected":!!t,className:(0,m.cn)("data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:ring-ring/50 hover:bg-accent hover:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex h-9 w-fit cursor-pointer items-center justify-between gap-2 whitespace-nowrap rounded-md bg-transparent px-3 py-2 text-sm text-neutral-700 outline-none transition-all focus-visible:ring-[3px] dark:text-neutral-400 [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",null==s?void 0:s.buttonClassName),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[o&&(0,a.jsx)(o,{weight:(null==s?void 0:s.weight)||"fill",className:"size-4 text-current"}),(0,a.jsx)("span",{children:(null==s?void 0:s.label)||"Select a mode"})]}),(0,a.jsx)(v.a,{className:"size-4 text-current opacity-50"})]})}),(0,a.jsx)(j.SQ,{align:"start",className:"min-w-[200px]",children:l.map(e=>{let n=e.icon,l=e.name===t;return(0,a.jsxs)(j._2,{onClick:()=>{(0,w.sx)(w.lA.MODE_SWITCH,{from_mode:t,to_mode:e.name}),r(e.name)},className:"flex items-start gap-2 py-2 text-neutral-700 dark:text-neutral-300",children:[(0,a.jsx)(n,{weight:e.weight||"fill",className:"mt-0.5 size-4 shrink-0"}),(0,a.jsxs)("div",{className:"flex flex-1 flex-col gap-0.5",children:[(0,a.jsx)("span",{className:"font-medium",children:e.label}),(0,a.jsx)("span",{className:"text-muted-foreground text-xs",children:e.description})]}),l&&(0,a.jsx)(b.J,{className:"size-4 shrink-0 text-current"})]},e.name)})})]})}let C=()=>(0,a.jsx)("div",{className:"animate-spin",children:(0,a.jsxs)("svg",{className:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})});function _(e){let{onSubmit:t,prompt:r,setPrompt:x,disabled:f,placeholder:g,className:v,disableOptions:b={},showRows:w=2,onCmdSubmit:y,focusSignal:j,onKeyDown:k,onSelectionChange:_,initialSearchMode:E="fast",attachments:B=[],setAttachments:S,condensed:R=!1,selectedRepoNames:z,showNewTabShortcut:L=!1,textareaProps:A={}}=e,[I,M]=(0,o.fp)(p.O),[T,D]=(0,d.useState)(E),F=(0,d.useRef)(null);(0,d.useEffect)(()=>{if(void 0!==j){var e;null==(e=F.current)||e.focus()}},[j]);let P=(0,c.useSearchParams)(),H=P.get("prompt"),W=P.get("mode"),[O,U]=(0,d.useState)(!1);(0,d.useEffect)(()=>{if(W&&W!==T&&["codemap","deep","fast"].includes(W)){var e;D(W);let t=new URL(window.location.href);e?t.searchParams.set("mode",e):t.searchParams.delete("mode"),window.history.replaceState({},"",t.toString())}H&&"/search"===window.location.pathname&&x(H)},[H,W,T,x]);let V=f||!r.trim()||r.length>5e4;(0,d.useEffect)(()=>{!H||r!==H||V||O||(t(z,T,!1),U(!0))},[H,r,V,t,z,T,O,W,B]);let q=()=>{V||t(z,T,!1)},X=(0,d.useMemo)(()=>{let e=["fast"];return b.deep||e.push("deep"),b.codemap||e.push("codemap"),e},[b.deep,b.codemap]);return(0,d.useEffect)(()=>{F.current&&F.current.focus()},[]),(0,a.jsxs)(i.P.form,{onSubmit:e=>{e.preventDefault(),q()},className:(0,m.cn)("z-20 w-full rounded-md backdrop-blur-md transition-shadow [pointer-events:all] focus-within:ring-[.5px] focus-within:ring-indigo-300/40",v),children:[(0,a.jsx)("div",{className:"",children:(0,a.jsxs)("div",{className:"relative text-base font-normal",children:[I&&(0,a.jsxs)("div",{className:"flex items-start justify-between rounded-t-[6px] bg-white px-3 py-2 dark:bg-[#3a3a45]",children:[(0,a.jsxs)("span",{className:"line-clamp-2 text-sm !text-neutral-800 dark:!text-neutral-300",children:["...",I,"..."]}),(0,a.jsx)("button",{onClick:()=>M(null),className:"mt-0.5 cursor-pointer rounded-full bg-white p-0.5 text-black",children:(0,a.jsx)(n.X,{size:10,weight:"bold"})})]}),B.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2 px-3 pt-2",children:B.map(e=>e.file.type.startsWith("image/")?(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{src:e.localUrl||e.url,alt:e.file.name,className:"h-32 w-32 rounded-sm bg-neutral-800 object-contain",onError:e=>{e.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%238F8F8F'%3E%3Cpath d='M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z'/%3E%3C/svg%3E"}}),(0,a.jsx)("button",{onClick:()=>S&&S(t=>t.filter(t=>t.file!==e.file)),className:"absolute -right-1 -top-1 rounded-full bg-neutral-700 p-0.5 text-neutral-400 hover:bg-neutral-600",children:(0,a.jsx)(n.X,{size:12})})]},e.file.name):null)}),(0,a.jsxs)("div",{className:"relative px-3 pt-3",children:[!r&&(0,a.jsx)("div",{className:(0,m.cn)("pointer-events-none absolute left-3 right-3 top-3 ml-px flex w-full overflow-hidden",R?"text-sm":"text-base"),"aria-hidden":"true",children:g}),(0,a.jsx)("textarea",{...A,placeholder:"",rows:w,value:r,onChange:e=>{x(e.target.value),e.target.style.height="auto",e.target.style.height=Math.min(e.target.scrollHeight,150)+"px"},onKeyDown:e=>{k&&k(e)||"Enter"!==e.key||e.shiftKey||!e.nativeEvent.isComposing&&(e.preventDefault(),e.metaKey||e.ctrlKey?V||(y?null==y||y():L?t(z,T,!0):t(z,T,!1)):q())},onSelect:e=>{let t=e.target;null==_||_(t.selectionStart,t.selectionEnd)},ref:F,className:(0,m.cn)("w-full resize-none rounded-none bg-transparent text-white focus:outline-none",R?"text-sm":"text-base")})]}),r.length>4e4&&(0,a.jsxs)("div",{className:"mt-1 text-right text-xs ".concat(r.length>5e4?"text-red-500":"text-neutral-400"),children:[r.length," / ",5e4," characters",r.length>5e4&&(0,a.jsx)("span",{className:"ml-1",children:"- Character limit exceeded"})]})]})}),(0,a.jsxs)("div",{className:(0,m.cn)("dark:border-border flex h-12 items-center justify-between border-t-[0.5px] border-[#c0c0c0]",R?"p-2":"p-3 pl-1.5"),children:[(0,a.jsx)("div",{className:(0,m.cn)("flex items-center gap-4 text-sm ",R?"gap-3":"gap-4"),children:X.length>1&&(0,a.jsx)(N,{value:T,onValueChange:D,modes:X})}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)(u.m_,{delayDuration:50,children:[(0,a.jsx)(u.k$,{asChild:!0,children:(0,a.jsx)("button",{className:(0,m.cn)("rounded-full bg-[#e0e0e0] p-1 text-neutral-400 transition-colors dark:bg-neutral-700",!V&&!f&&"cursor-pointer bg-neutral-600 !text-white dark:bg-white dark:!text-black"),disabled:V||f,children:f?(0,a.jsx)(C,{}):(0,a.jsx)(l.Q,{size:18})})}),(0,a.jsx)(u.ZI,{side:"top",align:"end",sideOffset:8,children:(0,a.jsxs)("span",{className:"flex items-center gap-1",children:["Enter to send",L&&(0,a.jsxs)(a.Fragment,{children:[", ",h?(0,a.jsx)(s.u,{size:12}):"Ctrl+","Enter for new tab"]})]})})]})})]})]})}},95400:(e,t,r)=>{r.d(t,{$:()=>i});var a=r(54568),n=r(43669),l=r(54616);r(7620);var s=r(25703);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",xs:"h-7 rounded-md gap-1.5 px-2 has-[>svg]:px-2",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",xl:"h-14 rounded-md px-8 text-lg has-[>svg]:px-6",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function i(e){let{className:t,variant:r,size:l,asChild:i=!1,...c}=e,d=i?n.DX:"button";return(0,a.jsx)(d,{"data-slot":"button",className:(0,s.cn)(o({variant:r,size:l,className:t})),...c})}}}]);