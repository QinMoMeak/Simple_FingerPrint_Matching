performance.mark("js-parse-end:react-code-view-2314a5f285dce2dd.js");
"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["8145"],{74488(e,t,n){n.d(t,{P:()=>u});var r=n(84093),i=n(16522),o=n(35148),l=n(81673),a=n(23148),s=n(96540),c=n(39050);let u=(0,r.T)()?function(e){let t=(0,i.c)(3),n=(0,a.B)(),r=e||n,[u,d]=(0,s.useState)(r),h=(0,l.q)();if(r)r!==u&&d(r);else{let e;if(t[0]!==h||t[1]!==u){let n=(0,o.n7E)(location.pathname,u.refInfo.name,u.path);e=(0,c.Bl)(u,h,n),t[0]=h,t[1]=u,t[2]=e}else e=t[2];r=e}return r}:function(e){let t=(0,a.B)(),n=e||t,[r,i]=(0,s.useState)(n),u=(0,l.q)();if(n)n!==r&&i(n);else{let e=(0,o.n7E)(location.pathname,r.refInfo.name,r.path);n=(0,c.Bl)(r,u,e)}return n}},39050(e,t,n){n.d(t,{Bl:()=>o,aO:()=>i});var r=n(43300);function i(e){return(0,r.H)(e)?{...e.fileTree,[e.path]:{items:e.tree.items,totalCount:e.tree.totalCount}}:e.fileTree}function o(e,t,n){return{path:n,repo:e.repo,refInfo:e.refInfo,currentUser:e.currentUser,fileTree:i(e),fileTreeProcessingTime:e.fileTreeProcessingTime,foldersToFetch:e.foldersToFetch,allShortcutsEnabled:e.allShortcutsEnabled,treeExpanded:e.treeExpanded,symbolsExpanded:e.symbolsExpanded,codeLineWrapEnabled:e.codeLineWrapEnabled,isMarketplaceEnabled:e.isMarketplaceEnabled,error:t||void 0}}},89381(e,t,n){var r=n(4013),i=n(80413),o=n(63583),l=n(74848),a=n(77734),s=n(50786),c=n(77728),u=n(85501),d=n(20305),h=n(259),m=n(36570),f=n(712),p=n(44162),w=n(40802),b=n(71716),g=n(99153),v=n(29827),E=n(47032),x=n(1687),y=n(74488),I=n(39050);function C(e){return"editInfo"in e&&"webCommitInfo"in e}var T=n(15599),j=n(84815),k=n(43300),S=n(8836),_=n(84190),B=n(33304),O=n(99159),F=n(84048),A=n(91701),N=n(64663),R=n(11421),P=n(87555),D=n(94709),W=n(96540),L=n(62668),z=n(19285),$=n(21835),q=n(1496),H=n(87570),V=n(23828),M=n(91368),U=n(62080),Q=n(6159),G=n(15689),X=n(91750),Z=n(91874),J=n(16418),K=n(13987),Y=n(85341),ee=n(99873),et=n(48042);let en=(0,W.lazy)(()=>Promise.all([n.e("13726"),n.e("90225"),n.e("67985"),n.e("61110"),n.e("12287"),n.e("30045"),n.e("8857"),n.e("72608"),n.e("43540"),n.e("51210"),n.e("83843"),n.e("54479"),n.e("93859"),n.e("19078"),n.e("39493"),n.e("12182"),n.e("87438"),n.e("33247"),n.e("38263"),n.e("7925"),n.e("64823")]).then(n.bind(n,57991)));function er({initialPayload:e}){let t=(0,y.P)(e);return(0,l.jsx)(eo,{payload:t,isDataRouter:!1})}en.displayName="BlobEditor",er.displayName="CodeViewEntrypoint";let ei=e=>{(0,ee.Q)(e,null,null)};function eo({payload:e,isDataRouter:t=!0}){let n,r=(0,S.t)(),{findFileWorkerPath:i}=(0,p.s)(),{path:o}=e,y=(0,x.p)(e.refInfo),ee=C(e),er=(0,T.m)(e),eo=(0,T.K)(e),el=(0,j.i)(e),[ea,es]=(0,W.useState)(null),ec=(0,X.U6)(r,y,o,e.error?.httpStatus===404),eu=(0,G.TX)(r,y,o,e.error?.httpStatus===404,er||eo?e.blob.rawLines?.length??1e5:1e5),ed=W.useRef(null),eh=W.useRef(!1),em=W.useRef(!1),ef=W.useRef(null),ep=W.useRef(null),ew="repos-file-tree",eb=W.useRef(void 0);(0,R.R)("hpc",t=>{!(0,k.H)(e)||t.detail.hpc&&(0,O.au)({name:"CODE_VIEW_TREE_HPC",value:t.detail.hpc,tags:{app:"react-code-view",soft:String(t.detail.soft),ssr:String(t.detail.ssr),mechanism:String(t.detail.mechanism)}})}),(0,R.R)("inp",t=>{!(0,k.H)(e)||t.detail.inp&&(0,O.au)({name:"CODE_VIEW_TREE_INP",value:t.detail.inp,tags:{app:"react-code-view",inpInteractionType:t.detail.inpInteractionType||"unknown",inpEventType:t.detail.inpEventType||"unknown",inpBottleneck:t.detail.inpBottleneck||"unknown"}})});let{toggleFocusedPaneShortcut:eg}=(0,E.wk)();(0,A.t)(),(0,N.L)(!0);let ev=W.useMemo(()=>(0,I.aO)(e),[e.path,e.refInfo.currentOid]),{isTreeExpanded:eE,collapseTree:ex,expandTree:ey,treeToggleElement:eI,treeToggleRef:eC,searchBoxRef:eT}=(0,_.qn)(ew,eb,e.treeExpanded,et.wQ,ei),ej=(0,W.useCallback)(()=>{window.innerWidth<B.Gy.large&&ex({focus:null})},[ex]),[ek,eS]=(0,W.useState)(!0);(0,W.useEffect)(()=>{let e;if(!window.location.hash&&window.scrollY>0){let t=document.querySelector("#StickyHeader");t&&(t.style.position="relative",t.scrollIntoView(),e=requestAnimationFrame(()=>{t.style.position="sticky"}))}return()=>{void 0!==e&&cancelAnimationFrame(e)}},[e.path]);let{codeCenterOption:e_}=(0,F.ud)(),eB=W.useCallback(()=>{window.innerWidth<B.Gy.large&&ey({focus:"search"})},[ey]);return n=ee?e.editInfo.isNewFile?"new":"edit":eo?"blame":er?"blob":"tree",(0,l.jsx)(X.mD,{...ec,children:(0,l.jsx)(G.Zj,{...eu,children:(0,l.jsx)(g.n,{path:o,children:(0,l.jsx)(c.O,{action:n,children:(0,l.jsx)(w.A,{isMarketplaceEnabled:e.isMarketplaceEnabled,children:(0,l.jsx)(h.d,{copilotAccessAllowed:e.copilotAccessAllowed??!1,copilotSpacesEnabled:e.copilotSpacesEnabled??!1,modelsAccessAllowed:e.modelsAccessAllowed??!1,modelsRepoIntegrationEnabled:e.modelsRepoIntegrationEnabled??!1,children:(0,l.jsx)(v.x,{refInfo:y,children:(0,l.jsx)(m.O,{canEdit:y.canEdit,canEditOnDefaultBranch:y.canEditOnDefaultBranch,fileExistsOnDefault:y.fileExistsOnDefault,children:(0,l.jsx)(u.$,{allShortcutsEnabled:e.allShortcutsEnabled,children:(0,l.jsxs)(_.Nq,{children:[(0,l.jsx)(U.U,{}),(0,l.jsxs)("div",{children:[(0,l.jsx)(f.Ck,{children:(0,l.jsx)(b.cD,{payload:e,openPanelRef:eb,children:(0,l.jsxs)(P.O7,{children:[(0,l.jsx)(D.az,{ref:ed,tabIndex:0,sx:{width:["100%","100%","auto"]},children:(0,l.jsx)(_.c2,{id:ew,repo:r,path:o,isFilePath:er||ee||el,refInfo:y,collapseTree:ex,showTree:eE,fileTree:ev,onItemSelected:ej,processingTime:e.fileTreeProcessingTime,treeToggleElement:eI,treeToggleRef:eC,searchBoxRef:eT,foldersToFetch:e.foldersToFetch,incompleteFileTree:e.incompleteFileTree,onFindFilesShortcut:eB,textAreaId:et.wQ,findFileWorkerPath:i,headerContent:(0,l.jsxs)(D.az,{sx:{display:"flex",width:"100%",mb:3,alignItems:"center"},children:[eE&&eI,(0,l.jsx)(D.DZ,{as:"h2",sx:{fontSize:2,ml:2},children:"Files"})]})})}),(0,l.jsx)(P.O7.Content,{as:"div",padding:"none",width:e_.enabled?"xlarge":"full",hidden:{narrow:eE},children:(0,l.jsx)(D.az,{sx:{marginLeft:"auto",marginRight:"auto",flexDirection:"column",pb:6,maxWidth:"100%",mt:0},ref:es,"data-selector":"repos-split-pane-content",tabIndex:0,children:(0,l.jsx)(J.mx,{children:(0,l.jsx)(Z.w,{isBlame:eo,children:(0,l.jsxs)(d.lG,{children:[(0,l.jsx)(D.az,{sx:{display:ee?"none":"inherit"},children:(0,l.jsx)(M.Ay,{payload:e,showTree:eE,treeToggleElement:eI,validCodeNav:ek,onFindFilesShortcut:eB})}),e.error?(0,l.jsx)(a.D,{...e.error}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(D.az,{className:"react-code-view-bottom-padding",sx:{mx:3},children:(0,l.jsx)(q.Ay,{payload:e})}),(0,l.jsx)(D.az,{sx:{mx:3},children:(0,k.H)(e)?(0,l.jsx)(V.A,{tree:e.tree,showTree:eE,treeToggleElement:eI}):C(e)?(0,l.jsx)(W.Suspense,{fallback:(0,l.jsx)(Q.f,{}),children:(0,l.jsx)(en,{collapseTree:ex,editInfo:e.editInfo,repo:e.repo,showTree:eE,treeToggleElement:eI,webCommitInfo:e.webCommitInfo,copilotInfo:e.copilotInfo,copilotGenerateCommitMessageAuthInfo:e.copilotGenerateCommitMessageAuthInfo,isDataRouter:t},`${e.path}_${e.editInfo.fileName}_${e.editInfo.isNewFile}`)}):er?(0,l.jsx)(Y.s,{blob:e.blob,children:(0,l.jsx)(K.k,{blame:e.blame,children:(0,l.jsx)($.C,{blame:e.blame,blob:e.blob,symbolsExpanded:e.symbolsExpanded,setValidCodeNav:eS,showTree:eE,treeToggleElement:eI,validCodeNav:ek,copilotInfo:e.copilotInfo})})}):el?(0,l.jsx)(H.k,{deleteInfo:e.deleteInfo,webCommitInfo:e.webCommitInfo}):null})]})]})})})})})]})})}),(0,l.jsx)(z.t,{}),(0,l.jsx)(s._,{buttonFocusId:et.wQ,buttonHotkey:eg.hotkey,onButtonClick:()=>(function(){let e=document.getElementById(L.M),t=document.getElementById(et.wQ);if(document.activeElement?.id===et.wQ&&(em.current=!0),ea?.contains(document.activeElement)&&!em.current?eh.current=!0:ed.current?.contains(document.activeElement)&&(eh.current=!1),eh.current||em.current)if(em.current){let t=ef.current||e||ea;eh.current=!0,em.current=!1,t?.focus()}else{let e=ep.current||ed.current;ef.current=ea?.contains(document.activeElement)?document.activeElement:null,eh.current=!1,em.current=!1,e?.focus()}else{let e=t||ea;ep.current=ed.current?.contains(document.activeElement)?document.activeElement:null,eh.current=!1,e?.focus()}})()})]})]})})})})})})})})})})}eo.displayName="CodeViewLegacy",(0,i.o)("react-code-view",()=>({App:o.q,routes:[(0,r.a)({path:"/:owner/:repo/tree/:branch/:path/*",Component:er,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo/blob/:branch/:path/*",Component:er,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo/blame/:branch/:path/*",Component:er,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo/edit/:branch/:path/*",Component:er,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo/new/:branch/:path/*",Component:er,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo/new/:branch/*",Component:er,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo/tree/delete/:branch/:path/*",Component:er,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo/delete/:branch/:path/*",Component:er,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo",Component:er,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo/tree/:branch/*",Component:er,shouldNavigateOnError:!0})]}))},99589(e,t,n){n.d(t,{V:()=>c});var r=n(96540);let i={type:"browser",isBrowser:!0,isServer:!1},o={type:"server",isBrowser:!1,isServer:!0};function l(){return()=>{}}function a(){return i}function s(){return o}function c(){return(0,r.useSyncExternalStore)(l,a,s)}},5847(e,t,n){n.d(t,{I:()=>o});var r=n(96540),i=n(37979);function o(e,t,n=[]){let l=(0,r.useCallback)(e,n),a=(0,i.BP)(),s=(0,r.useRef)(a===i.O8.ClientRender),[c,u]=(0,r.useState)(()=>a===i.O8.ClientRender?l():t),d=(0,r.useCallback)(()=>{u(l)},[l]);return(0,r.useLayoutEffect)(()=>{s.current||u(l),s.current=!1},[l,...n]),[c,d]}},1827(e,t,n){n.d(t,{A:()=>o});var r=n(16522),i=n(96540);function o(){let e,t,n,o=(0,r.c)(3),l=(0,i.useRef)(!1);o[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>l.current,o[0]=e):e=o[0];let a=e;return o[1]===Symbol.for("react.memo_cache_sentinel")?(t=()=>(l.current=!0,()=>{l.current=!1}),n=[],o[1]=t,o[2]=n):(t=o[1],n=o[2]),(0,i.useLayoutEffect)(t,n),a}},12627(e,t,n){n.d(t,{X:()=>a});var r=n(16522),i=n(96540);function o(){return()=>{}}function l(){return!1}function a(e){let t,n=(0,r.c)(2);return n[0]!==e?(t=()=>{let t=function(){if("u"<typeof navigator);else if(/Windows/.test(navigator.userAgent))return"windows";else if(/Macintosh/.test(navigator.userAgent))return"mac";return null}();return null!==t&&e.includes(t)},n[0]=e,n[1]=t):t=n[1],(0,i.useSyncExternalStore)(o,t,l)}},97088(e,t,n){n.d(t,{s:()=>o});let r=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","scid"];var i=n(36301);class o{constructor(e){this.options=e,this.eventBatch=[],this.idleCallbackId=null,this.waitTimerId=null,this.onVisibilityChange=()=>{"hidden"===document.visibilityState&&this.flushBatch()},this.boundFlush=()=>this.flushBatch(),"u">typeof document&&document.addEventListener("visibilitychange",this.onVisibilityChange),"u">typeof window&&window.addEventListener("pagehide",this.boundFlush)}get collectorUrl(){return this.options.collectorUrl}get clientId(){return this.options.clientId?this.options.clientId:(0,i.y)()}get maxBatchSize(){return this.options.maxBatchSize??10}get idleTimeout(){return this.options.idleTimeout??1e3}createEvent(e){return{page:location.href,title:document.title,context:{...this.options.baseContext,...function(){let e={};try{for(let[t,n]of new URLSearchParams(window.location.search)){let i=t.toLowerCase();r.includes(i)&&(e[i]=n)}return e}catch(e){return{}}}(),...e}}}sendPageView(e){let t=this.createEvent(e);this.send({page_views:[t]})}sendEvent(e,t){let n={...this.createEvent(t),type:e};this.send({events:[n]})}sendBatchedEvent(e,t){let n={...this.createEvent(t),type:e};this.eventBatch.push(n),this.eventBatch.length>=this.maxBatchSize?this.flushBatch():this.scheduleFlush()}flushBatch(){if(0===this.eventBatch.length)return;this.cancelScheduledFlush();let e=this.eventBatch;this.eventBatch=[],this.send({events:e})}destroy(){this.flushBatch(),"u">typeof document&&document.removeEventListener("visibilitychange",this.onVisibilityChange),"u">typeof window&&window.removeEventListener("pagehide",this.boundFlush)}scheduleFlush(){null===this.idleCallbackId&&null===this.waitTimerId&&(this.waitTimerId=setTimeout(()=>{this.waitTimerId=null,"function"==typeof requestIdleCallback?this.idleCallbackId=requestIdleCallback(this.boundFlush):this.boundFlush()},this.idleTimeout))}cancelScheduledFlush(){null!==this.idleCallbackId&&("function"==typeof cancelIdleCallback&&cancelIdleCallback(this.idleCallbackId),this.idleCallbackId=null),null!==this.waitTimerId&&(clearTimeout(this.waitTimerId),this.waitTimerId=null)}send({page_views:e,events:t}){let n=JSON.stringify({client_id:this.clientId,page_views:e,events:t,request_context:{referrer:function(){let e;try{e=window.top.document.referrer}catch(t){if(window.parent)try{e=window.parent.document.referrer}catch(e){}}return""===e&&(e=document.referrer),e}(),user_agent:navigator.userAgent,screen_resolution:function(){try{return`${screen.width}x${screen.height}`}catch(e){return"unknown"}}(),browser_resolution:function(){let e=0,t=0;try{return"number"==typeof window.innerWidth?(t=window.innerWidth,e=window.innerHeight):null!=document.documentElement&&null!=document.documentElement.clientWidth?(t=document.documentElement.clientWidth,e=document.documentElement.clientHeight):null!=document.body&&null!=document.body.clientWidth&&(t=document.body.clientWidth,e=document.body.clientHeight),`${t}x${e}`}catch(e){return"unknown"}}(),browser_languages:navigator.languages?navigator.languages.join(","):navigator.language||"",pixel_ratio:window.devicePixelRatio,timestamp:Date.now(),tz_seconds:-60*new Date().getTimezoneOffset()}});try{if(navigator.sendBeacon)return void navigator.sendBeacon(this.collectorUrl,n)}catch{}fetch(this.collectorUrl,{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:n,keepalive:!1})}}},70837(e,t,n){n.d(t,{O:()=>r});function r(e="ha"){let t,n={};for(let r of Array.from(document.head.querySelectorAll(`meta[name^="${e}-"]`))){let{name:i,content:o}=r,l=i.replace(`${e}-`,"").replace(/-/g,"_");"url"===l?t=o:n[l]=o}if(!t)throw Error(`AnalyticsClient ${e}-url meta tag not found`);return{collectorUrl:t,...Object.keys(n).length>0?{baseContext:n}:{}}}},97665(e,t,n){n.d(t,{Ht:()=>a,jE:()=>l,v4:()=>o});var r=n(96540),i=n(74848),o=r.createContext(void 0),l=e=>{let t=r.useContext(o);if(e)return e;if(!t)throw Error("No QueryClient set, use QueryClientProvider to set one");return t},a=({client:e,children:t})=>(r.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),(0,i.jsx)(o.Provider,{value:e,children:t}))},34164(e,t,n){n.d(t,{$:()=>r});function r(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=function e(t){var n,r,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t)if(Array.isArray(t)){var o=t.length;for(n=0;n<o;n++)t[n]&&(r=e(t[n]))&&(i&&(i+=" "),i+=r)}else for(r in t)t[r]&&(i&&(i+=" "),i+=r);return i}(e))&&(r&&(r+=" "),r+=t);return r}}},function(e){e.O(0,["11152","11268","12840","13726","13835","16073","16111","16251","18089","19762","19837","2966","32769","34194","38728","41013","43142","437","49863","55694","56093","57956","59299","61300","62095","64220","66741","68751","7053","71365","72807","73494","7463","7542","78168","78563","80067","80352","83465","90225","96967","98131","98212","99602"],function(){return e(e.s=89381)}),e.O()}]);
//# sourceMappingURL=react-code-view-2314a5f285dce2dd-dcecca22743599d3.js.map